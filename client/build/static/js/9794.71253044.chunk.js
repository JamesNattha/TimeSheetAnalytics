"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[9794],{75761:function(e,r,t){var n=t(1413),o=t(29439),i=t(47313),a=t(19860),s=t(17551),l=t(61689),d=(t(57829),t(42832)),c=t(70501),u=t(49914),p=t(31095),m=t(1550),f=t(23931),h=t(51405),x=t(66835),v=t(23477),Z=t(24076),g=t(67478),_=t(57861),b=t(94044),S=t(10259),C=t(1309),j=t(45110),y=t(35397),w=t(7519),P=(t(67440),t(5186),t(40765)),k=t(46417);r.Z=function(e){var r=e.columns,t=e.data,B=e.getHeaderProps,R=e.renderRowSubComponent,D=e.handleAdd,H=e.nameCreateButton,F=e.sortColumn,T=e.isExpand,N=e.expandPage,E=(e.permission,(0,a.Z)()),U=(0,i.useMemo)((function(){return y.KR}),[]),A={id:F,desc:!1},M=(0,j.useTable)({columns:r,data:t,filterTypes:U,initialState:{pageIndex:0,pageSize:10,hiddenColumns:r.filter((function(e){return e.hidden})).map((function(e){return e.accessor})),sortBy:[A]}},j.useGlobalFilter,j.useFilters,j.useSortBy,j.useExpanded,j.usePagination,j.useRowSelect),I=M.getTableProps,z=M.getTableBodyProps,q=M.headerGroups,W=M.prepareRow,G=(M.setHiddenColumns,M.allColumns,M.visibleColumns),O=(M.getToggleAllPageRowsSelectedProps,M.rows),V=M.page,L=M.gotoPage,Y=M.setPageSize,K=M.state,J=(K.globalFilter,K.selectedRowIds),Q=K.pageIndex,X=K.pageSize,$=M.preGlobalFilteredRows,ee=M.setGlobalFilter,re=M.setSortBy,te=(0,i.useState)({}),ne=(0,o.Z)(te,2),oe=(ne[0],ne[1],(0,i.useState)("")),ie=(0,o.Z)(oe,2),ae=ie[0],se=ie[1],le=$.length,de=(0,i.useState)(1),ce=(0,o.Z)(de,2),ue=ce[0],pe=ce[1];return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{children:[(0,k.jsx)(w.c,{selected:Object.keys(J).length}),(0,k.jsxs)(d.Z,{spacing:2,children:[(0,k.jsx)(c.Z,{variant:"outlined",sx:{py:1,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid #ccc",borderRadius:"10px"},children:(0,k.jsxs)("div",{style:{display:"flex",padding:"5px 10px 5px 10px",alignItems:"center"},children:[(0,k.jsx)(u.Z,{id:"start-adornment-email",placeholder:"Type something (".concat(le," Records)"),startAdornment:(0,k.jsx)(P.Z,{}),fullWidth:!0,value:ae,onChange:function(e){return se(e.target.value)},sx:{borderRadius:20,backgroundColor:"#F3F4F6"}}),(0,k.jsxs)(p.Z,{variant:"contained",sx:{width:"150px",margin:"5px",borderRadius:"40px",height:"37px",backgroundColor:"#232323","&::after":{boxShadow:"0 0 5px 5px rgba(0, 0, 0, 0.9)",borderRadius:"40px"},"&:hover":{backgroundColor:"#686868 !important"}},onClick:function(){ee(ae)},children:[(0,k.jsx)(S.G,{icon:C.wn1,style:{fontSize:"15px"}}),"Search"]}),(0,k.jsx)(b.Z,{shape:"rounded",variant:"contained",style:{margin:"5px",backgroundColor:"#232323"},onClick:function(){ee(""),se("")},sx:{"&:hover":{backgroundColor:"#686868 !important"}},children:(0,k.jsx)(S.G,{icon:C.jHE})})]})}),(0,k.jsx)(c.Z,{variant:"outlined",sx:{py:1,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid #ccc",borderRadius:"10px"},children:(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,k.jsx)("div",{style:{marginRight:"5px"},children:(0,k.jsx)(m.Z,{sx:{minWidth:120},children:(0,k.jsxs)(f.Z,{displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:{borderRadius:"40px",width:"300px",backgroundColor:"#F3F4F6",padding:"0 0 0 10px","&:hover":{borderColor:"#686868 !important",color:"#686868"}},value:ue,onChange:function(e){pe(e.target.value),1===e.target.value?re([{id:F,desc:!1}]):re([{id:F,desc:!0}])},children:[(0,k.jsx)(h.Z,{value:1,children:"Sort by the oldest"}),(0,k.jsx)(h.Z,{value:2,children:"Sort by the newest"})]})})}),(0,k.jsx)("div",{style:{display:"flex",padding:"5px 7px 5px 7px",alignItems:"center"},children:(0,k.jsxs)(p.Z,{onClick:D,variant:"outlined",sx:{width:"150px",marginRight:"10px",height:"auto",borderRadius:"40px",borderColor:"#232323",color:"#232323","&:hover":{borderColor:"#686868 !important",color:"#686868"}},children:["+ ",H]})})]})}),T?(0,k.jsx)(c.Z,{variant:"outlined",sx:{py:1,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid #ccc",borderRadius:"10px",pt:"14px"},children:N}):null,(0,k.jsx)("div",{style:{borderRadius:"10px",overflow:"hidden",backgroundColor:"#ffffff"},children:(0,k.jsxs)(x.Z,(0,n.Z)((0,n.Z)({},I()),{},{children:[(0,k.jsx)(v.Z,{style:{backgroundColor:"#E0E0E0"},children:q.map((function(e,r){return(0,k.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th:first-of-type":{width:"58px"}},children:e.headers.map((function(e,r){return(0,k.jsx)(g.Z,(0,n.Z)((0,n.Z)({},e.getHeaderProps([{className:e.className},B(e)])),{},{sx:{width:e.width||"auto",":not(:last-of-type)::after":{position:"inherit "}},children:(0,k.jsx)(w.RL,{column:e})}),r)}))}),r)}))}),(0,k.jsxs)(_.Z,(0,n.Z)((0,n.Z)({},z()),{},{children:[V.map((function(e,r){W(e);var t=e.getRowProps();return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,s.Fq)(E.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(r,t){return(0,k.jsx)(g.Z,(0,n.Z)((0,n.Z)({},r.getCellProps([{className:r.column.className}])),{},{children:(0,k.jsx)(l.Z,{title:0===t||t===e.cells.length-1?null:r.render("Cell"),arrow:!0,children:(0,k.jsx)("span",{children:r.column.truncate&&r.value.length>r.column.truncate?"".concat(r.value.slice(0,r.column.truncate),"..."):r.render("Cell")})})}),t)}))})),e.isExpanded&&(0,k.jsx)(g.Z,{colSpan:9,sx:{height:"100%",width:"100%"},children:R({row:e,rowProps:t,visibleColumns:G})})]},r)})),(0,k.jsx)(Z.Z,{sx:{"&:hover":{bgcolor:"transparent !important"}},children:(0,k.jsx)(g.Z,{sx:{p:2,py:3},colSpan:9,children:(0,k.jsx)(w.bG,{gotoPage:L,rows:O,setPageSize:Y,pageSize:X,pageIndex:Q})})})]}))]}))})]})]})})}},26886:function(e,r,t){t.r(r),t.d(r,{default:function(){return $}});var n=t(1413),o=t(74165),i=t(15861),a=t(29439),s=t(47313),l=t(94469),d=t(75761),c=t(73842),u=t(84897),p=(t(40750),t(70816)),m=t.n(p),f=function(e){var r=e,t=(0,s.useMemo)((function(){var e=[];return r&&r.forEach((function(t,n){if(r.length>0)if(console.log("data person",t),t.Profiles.length>0){var o,i,a,s,l,d,c,u,p=null===(o=t.Profiles)||void 0===o?void 0:o.map((function(e){return e.User.user_id})),m=null===(i=t.Profiles)||void 0===i?void 0:i.map((function(e){return e.User.nick_name})),f=null===(a=t.Profiles)||void 0===a?void 0:a.map((function(e){return e.User.username})),h=null===(s=t.Profiles)||void 0===s?void 0:s.map((function(e){return e.User.starting_working_date})),x=null===(l=t.Profiles)||void 0===l?void 0:l.map((function(e){return e.created_date})),v=null===(d=t.Profiles)||void 0===d?void 0:d.map((function(e){return e.role})),Z=null===(c=t.Profiles)||void 0===c?void 0:c.map((function(e){return e.User.first_name})),g=null===(u=t.Profiles)||void 0===u?void 0:u.map((function(e){return e.User.last_name})),_={position_id:t.position_id,position_code:t.position_code,position_name:t.position_name,created_date:t.created_date,department_id:t.Department.department_id,department_name:t.Department.department_name,is_disabled:!0,profile_id:p,profile_firstname:Z,profile_lastname:g,profile_nickname:m,profile_email:f,profile_startworkdate:h,profile_role:v,profile_date:x};e.push(_)}else{var b,S,C,j,y,w,P,k,B,R,D,H,F,T,N=t.Profiles.length>=1,E={position_id:t.position_id,position_code:t.position_code,position_name:t.position_name,created_date:t.created_date,department_name:t.Department.department_name,is_disabled:N,profile_id:null===(b=t.Profiles)||void 0===b||null===(S=b.User)||void 0===S?void 0:S.user_id,profile_firstname:null===(C=t.Profiles)||void 0===C||null===(j=C.User)||void 0===j?void 0:j.first_name,profile_lastname:null===(y=t.Profiles)||void 0===y||null===(w=y.User)||void 0===w?void 0:w.last_name,profile_nickname:null===(P=t.Profiles)||void 0===P||null===(k=P.User)||void 0===k?void 0:k.nick_name,profile_email:null===(B=t.Profiles)||void 0===B||null===(R=B.User)||void 0===R?void 0:R.username,profile_startworkdate:null===(D=t.Profiles)||void 0===D||null===(H=D.User)||void 0===H?void 0:H.starting_working_date,profile_role:null===(F=t.Profiles)||void 0===F?void 0:F.role,profile_date:null===(T=t.Profiles)||void 0===T?void 0:T.created_date,department_id:t.department_id};e.push(E)}})),e}),[r]).slice().sort((function(e,r){return new Date(e.created_date)-new Date(r.created_date)}));return t.forEach((function(e,r){e.autoNumber=r+1})),t},h=t(51997),x=t(65954),v=t(42832),Z=t(61689),g=t(25002),_=t(51405),b=t(74748),S=t(83213),C=t(94044),j=t(38443),y=t(43997),w=t(46417),P=function(e,r,t){return[{Header:"No.",accessor:"autoNumber",disableSortBy:!0,className:"cell-right"},{Header:"PositionId",accessor:"position_id",disableSortBy:!0,hidden:!0},{Header:"Position Code",accessor:"position_code",disableSortBy:!0,width:"20%"},{Header:"Position Name",accessor:"position_name",disableSortBy:!0,width:"20%"},{Header:"Position Date",accessor:"created_date",disableSortBy:!0,hidden:!0},{Header:"Department Name",accessor:"department_name",width:"50%",disableSortBy:!0},{Header:"Department Id",accessor:"department_id",disableSortBy:!0,hidden:!0},{Header:"Profile id",accessor:"profile_id",disableSortBy:!0,hidden:!0},{Header:"Profile Firstname",accessor:"profile_firstname",disableSortBy:!0,hidden:!0},{Header:"Profile Lastname",accessor:"profile_lastname",disableSortBy:!0,hidden:!0},{Header:"Profile Nickname",accessor:"profile_nickname",disableSortBy:!0,hidden:!0},{Header:"have data",accessor:"is_disabled",disableSortBy:!0,hidden:!0},{Header:"Profile Email",accessor:"profile_email",disableSortBy:!0,hidden:!0},{Header:"Profile startwork",accessor:"profile_startworkdate",disableSortBy:!0,hidden:!0},{Header:"Profile Role",accessor:"profile_role",disableSortBy:!0,hidden:!0},{Header:"Profile Date",accessor:"profile_date",disableSortBy:!0,hidden:!0},{Header:"Actions",className:"cell-center",width:"15%",disableSortBy:!0,Cell:function(n){var o=n.row,i=o.values,l=(o.isExpanded,o.toggleRowExpanded,(0,s.useState)(null)),d=(0,a.Z)(l,2),c=d[0],u=d[1];return(0,w.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,w.jsx)(Z.Z,{title:"See More",children:(0,w.jsx)(C.Z,{color:"secondary",onClick:function(e){u(e.currentTarget)},children:(0,w.jsx)(y.Z,{})})}),(0,w.jsxs)(g.ZP,{open:Boolean(c),anchorEl:c,onClose:function(){u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,w.jsxs)(_.Z,{onClick:function(t){t.stopPropagation(),r(i),e(i)},children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(x.Z,{fontSize:"small",sx:{color:"#0066FF"}})}),(0,w.jsx)(S.Z,{primary:"Edit"})]}),(0,w.jsxs)(_.Z,{disabled:i.is_disabled,onClick:function(){t(i)},children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(h.Z,{fontSize:"small",sx:{color:"#ED4040"}})}),(0,w.jsx)(S.Z,{primary:"Delete"})]})]}),(0,w.jsx)(j.Z,{row:o})]})}}]},k=t(67114),B=t.n(k),R=t(19860),D=t(84999),H=function(e){var r=(0,s.useState)([]),t=(0,a.Z)(r,2),n=t[0],o=t[1];return(0,s.useEffect)((function(){o(e)}),[e]),(0,s.useMemo)((function(){var e=[];if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var t=n[r];if(Array.isArray(t.profile_id))if(t.profile_id.length>0)for(var o=0;o<t.profile_id.length;o++){var i=t.profile_firstname[o]&&t.profile_lastname[o]?"".concat(t.profile_firstname[o]," ").concat(t.profile_lastname[o]):null,a=m()(t.profile_startworkdate[o]).format("DD/MM/YYYY"),s={no:t.profile_id.length-o,profile_id:t.profile_id[o],profile_name:i,profile_nickname:t.profile_nickname[o],profile_email:t.profile_email[o],profile_startworkdate:a,profile_role:t.profile_role[o],profile_date:t.profile_date[o]};e.push(s)}else{var l={no:t.profile_id.length,profile_id:t.profile_id,profile_name:fullname,profile_nickname:t.profile_nickname,profile_email:t.profile_email,profile_startworkdate:formattedStartDate,profile_role:t.profile_role,profile_date:t.profile_date};e.push(l)}}return e}),[n])},F=(t(30686).useTheme,function(e,r,t,n,o,i){return[{Header:"no",accessor:"no",disableSortBy:!0,className:"cell-right"},{Header:"id",accessor:"profile_id",disableSortBy:!0,hidden:!0},{Header:"Full name",accessor:"profile_name",disableSortBy:!0,Cell:function(e){var r=e.value;return null===r?(0,w.jsx)("span",{style:{color:"#FBC756"},children:"Pending"}):r}},{Header:"Nick Name",accessor:"profile_nickname",disableSortBy:!0,Cell:function(e){var r=e.value;return null===r?(0,w.jsx)("span",{style:{color:"#FBC756"},children:"Pending"}):r}},{Header:"Email",accessor:"profile_email",disableSortBy:!0},{Header:"create",accessor:"profile_date",disableSortBy:!0,hidden:!0},{Header:"starting working date",accessor:"profile_startworkdate",disableSortBy:!0},{Header:"Role",accessor:"profile_role",disableSortBy:!0}]}),T=function(e){(0,R.Z)();var r=H(e),t=(0,s.useState)(null),n=(0,a.Z)(t,2),o=n[0],i=n[1],l=(0,s.useState)(!1),d=(0,a.Z)(l,2),u=d[0],p=d[1],m=(0,s.useState)(null),f=(0,a.Z)(m,2),h=f[0],x=f[1],v=function(){p(!u),o&&u&&i(null)},Z=F(v,i,(function(e){i(null),p(!1),x(e)}),h);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{style:{width:"100%",border:"1px solid #ccc",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:(0,w.jsx)(c.Z,{children:(0,w.jsx)(D.Z,{columns:Z,data:r,handleAdd:v,getHeaderProps:function(e){return e.getSortByToggleProps()}})})})})},N=(t(93433),t(56352)),E=t(7410),U=t(3463),A=t(96467),M=t(9019),I=t(15103),z=t(49914),q=t(15480),W=t(76088),G=t(24631),O=t(4117),V=t(31095),L=t(16031),Y=t.n(L),K=t(18530),J=t(58467),Q=function(e){if(e){console.log("customer",e);var r={id:null===e||void 0===e?void 0:e.position_id,name:null===e||void 0===e?void 0:e.position_name,code:null===e||void 0===e?void 0:e.position_code,departmentSelect:null===e||void 0===e?void 0:e.department_id};return Y().merge({},r,e)}return{id:"",name:"",code:"",positionSelect:"",departmentSelect:"",userSelect:[]}},X=function(e){var r=e.customer,t=(e.open,e.onCancel),l=e.namePage,d=(e.status,e.fetchDepartment),c=((0,R.Z)(),(0,N.I0)()),p=!!r,m=((0,J.TH)(),(0,s.useState)([])),f=(0,a.Z)(m,2),h=(f[0],f[1],(0,s.useState)("")),x=(0,a.Z)(h,2),v=(x[0],x[1],(0,J.s0)(),(0,s.useState)(void 0)),Z=(0,a.Z)(v,2),g=(Z[0],Z[1],(0,s.useState)([])),_=(0,a.Z)(g,2),b=(_[0],_[1]),S=(0,s.useState)([]),C=(0,a.Z)(S,2),j=C[0],y=C[1],P=(0,s.useState)([]),k=(0,a.Z)(P,2),D=(k[0],k[1]),H=(0,s.useState)([]),F=(0,a.Z)(H,2),T=(F[0],F[1],function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.setting.fetchUser();case 3:r=e.sent,t=r.data,r.isStatus&&D(t.map((function(e){return e.User}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()),L=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.company.getPosition();case 3:r=e.sent,t=r.data,r.isStatus&&b(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.company.getDepartment();case 3:r=e.sent,t=r.data,r.isStatus&&y(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){L(),Y(),T()}),[]);var X="department"===l?U.Ry().shape({code:U.Z_().max(255).required("".concat(l.charAt(0).toUpperCase()+l.slice(1)," Code is required")),name:U.Z_().max(255).required("".concat(l.charAt(0).toUpperCase()+l.slice(1)," Name is required"))}):"position"===l?U.Ry().shape({code:U.Z_().max(255).required("".concat(l.charAt(0).toUpperCase()+l.slice(1)," Code is required")),name:U.Z_().max(255).required("".concat(l.charAt(0).toUpperCase()+l.slice(1)," Name is required")),departmentSelect:U.Z_().max(255).required("Department select is required")}):"group"===l?U.Ry().shape({code:U.Z_().max(255).required("".concat(l.charAt(0).toUpperCase()+l.slice(1)," Code is required")),name:U.Z_().max(255).required("".concat(l.charAt(0).toUpperCase()+l.slice(1)," Name is required"))}):null,$=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe.values.name||!oe.values.code){e.next=19;break}if(e.prev=1,!p){e.next=8;break}return e.next=5,te(oe.values);case 5:B().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'}),e.next=11;break;case 8:return e.next=10,ee();case 10:B().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),c((0,K.ss)({open:!0,message:"Error updating project.",variant:"alert",alert:{color:"error"}}));case 17:e.next=20;break;case 19:c((0,K.ss)({open:!0,message:"Please correct the errors in the form.",variant:"alert",alert:{color:"error"}}));case 20:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(r){return e.apply(this,arguments)}}();function ee(){return re.apply(this,arguments)}function re(){return(re=(0,i.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:oe.values.name,code:oe.values.code,department_Id:oe.values.departmentSelect},e.next=3,u.Z.created.createPosition(r);case 3:e.sent,d(),t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=(0,i.Z)((0,o.Z)().mark((function e(n){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:r.position_id,code:oe.values.code,department_id:oe.values.departmentSelect||r.department_id,name:oe.values.name},e.next=3,u.Z.company.updatePosition(i);case 3:e.sent,d(),t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=(0,E.TA)({initialValues:Q(r),validationSchema:X,onSubmit:$}),ie=oe.errors,ae=oe.touched,se=oe.getFieldProps,le=oe.handleSubmit;return console.log("formik.values isus",oe.values),(0,w.jsx)("div",{children:(0,w.jsxs)("form",{onSubmit:le,children:[(0,w.jsx)(A.Z,{sx:{mx:3},children:(0,w.jsxs)(M.ZP,{container:!0,spacing:2,children:[(0,w.jsxs)(M.ZP,{item:!0,xs:12,sm:6,children:[(0,w.jsxs)(I.Z,{htmlFor:"code",children:[l.charAt(0).toUpperCase()+l.slice(1)," Code",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(z.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,rows:4,placeholder:"".concat(l.charAt(0).toUpperCase()+l.slice(1)," Code"),value:oe.values.code},se("code")),{},{error:Boolean(ae.code&&ie.code),helperText:ae.code&&ie.code,sx:{borderRadius:40,mt:"4px"}})),(0,w.jsx)(q.Z,{sx:{color:"red"},children:ae.code&&ie.code})]}),(0,w.jsxs)(M.ZP,{item:!0,xs:12,sm:6,children:[(0,w.jsxs)(I.Z,{htmlFor:"project",children:[l.charAt(0).toUpperCase()+l.slice(1)," Name",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(z.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,rows:4,placeholder:"".concat(l.charAt(0).toUpperCase()+l.slice(1)," Name"),value:oe.values.name},se("name")),{},{error:Boolean(ae.name&&ie.name),helperText:ae.name&&ie.name,sx:{borderRadius:40,mt:"4px"}})),(0,w.jsx)(q.Z,{sx:{color:"red"},children:ae.name&&ie.name})]}),(0,w.jsxs)(M.ZP,{item:!0,xs:12,children:[(0,w.jsxs)(I.Z,{htmlFor:"user",children:[" ","department"===l?"Position":"position"===l?"Department":null," Select",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(W.Z,{id:"country-select-demo",options:j,getOptionLabel:function(e){return e.department_name||""},isOptionEqualToValue:function(e,r){return e.department_id===r.department},value:j.find((function(e){return e.department_id===oe.values.departmentSelect}))||"",onChange:function(e,r){null!==r?(console.log("jaaaaa",r),oe.setFieldValue("departmentSelect",r.department_id),console.log("Selected Client ID:",r.department_id)):(console.log("nullllllllll"),oe.setFieldValue("departmentSelect",""))},fullWidth:!0,margin:"normal",renderInput:function(e){return(0,w.jsx)("div",{style:{position:"relative"},children:(0,w.jsx)(G.Z,(0,n.Z)((0,n.Z)({},e),{},{placeholder:"Select Department",error:Boolean(ae.departmentSelect&&ie.departmentSelect),helperText:ae.departmentSelect&&ie.departmentSelect,InputProps:(0,n.Z)((0,n.Z)({},e.InputProps),{},{style:{borderRadius:"30px "}})}))})}})]})]})}),(0,w.jsxs)(O.Z,{sx:{pr:2.5},children:[(0,w.jsx)(V.Z,{variant:"outlined",onClick:function(){p?oe.values.name&&oe.values.code&&oe.values.departmentSelect?oe.values.name!==r.name||oe.values.code!==r.code||oe.values.departmentSelect!==r.dp_id?B().fire({title:"Discard",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Keep editing",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(oe.resetForm(),t()):(e.dismiss,B().DismissReason.cancel)})):(oe.resetForm(),t()):B().fire({title:"Discard",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Keep editing",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(oe.resetForm(),t()):(e.dismiss,B().DismissReason.cancel)})):oe.values.name||oe.values.code||oe.values.departmentSelect?B().fire({title:"Discard",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Keep editing",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(oe.resetForm(),t()):(e.dismiss,B().DismissReason.cancel)})):(oe.resetForm(),t())},sx:{mr:1.5,backgroundColor:"transparent",borderColor:"#393939",color:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:"Cancel"}),(0,w.jsx)(V.Z,{variant:"contained",type:"submit",sx:{backgroundColor:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#242424"}},children:"Save"})]})]})})},$=function(){var e=(0,s.useState)(null),r=(0,a.Z)(e,2),t=r[0],p=r[1],m=(0,s.useState)(!1),h=(0,a.Z)(m,2),x=h[0],v=h[1],Z=(0,s.useState)(!1),g=(0,a.Z)(Z,2),_=g[0],b=(g[1],(0,s.useState)([])),S=(0,a.Z)(b,2),C=S[0],j=S[1],y=f(C),k=(0,s.useState)(""),R=(0,a.Z)(k,2),D=R[0],H=R[1],F=(0,s.useState)(!1),N=(0,a.Z)(F,2),E=N[0],U=N[1],A=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.company.getPosition();case 3:r=e.sent,t=r.data,r.isStatus&&j(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){A()}),[]);var M=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(""),v(!x),null!==r&&void 0!==r&&r.position_id?H("edit"):(H("add"),p(null)),U(!E),t&&"add"===D&&p(null),A();case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();console.log("data position",y);var I=P(M,p,(function(e){A(),B().fire({title:"Delete",text:"if you delete the information, this process will not be able to be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0066FF",cancelButtonColor:"#0066FF",reverseButtons:!0,confirmButtonText:"Confirm",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="delete-icon"></div>'}).then((function(r){if(r.isConfirmed){A();u.Z.company.deletePosition(e).then((function(){A(),B().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'})}))}}))})),z=(0,s.useCallback)((function(e){var r=e.row;return(0,w.jsx)(T,{DatafromIndex:y[r.id]})}),[y]),q=(0,w.jsx)(X,{open:x,customer:t,onCancel:M,namePage:"position",status:D,fetchDepartment:A}),W={columns:I,data:y,renderRowSubComponent:z,getHeaderProps:function(e){return e.getSortByToggleProps()},nameCreateButton:"Add Position",handleAdd:function(){return M()},handleDelete:function(e){function r(){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((function(){return handleDelete()})),sortColumn:"created_date",isExpand:E,expandPage:q};return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{children:[(0,w.jsx)(c.Z,{children:(0,w.jsx)(d.Z,(0,n.Z)({},W))}),(0,w.jsx)(l.Z,{maxWidth:"lg",fullWidth:!0,open:_,PaperProps:{sx:{borderRadius:"10px"}}})]})})}},51997:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(45045)),i=t(46417),a=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");r.Z=a},65954:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(45045)),i=t(46417),a=(0,o.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=a},43997:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(45045)),i=t(46417),a=(0,o.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");r.Z=a},96467:function(e,r,t){t.d(r,{Z:function(){return Z}});var n=t(4942),o=t(63366),i=t(87462),a=t(47313),s=t(2197),l=t(21921),d=t(17592),c=t(77342),u=t(77430),p=t(32298);function m(e){return(0,p.Z)("MuiDialogContent",e)}(0,u.Z)("MuiDialogContent",["root","dividers"]);var f=t(93174),h=t(46417),x=["className","dividers"],v=(0,d.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,t.dividers&&r.dividers]}})((function(e){var r=e.theme,t=e.ownerState;return(0,i.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((r.vars||r).palette.divider),borderBottom:"1px solid ".concat((r.vars||r).palette.divider)}:(0,n.Z)({},".".concat(f.Z.root," + &"),{paddingTop:0}))})),Z=a.forwardRef((function(e,r){var t=(0,c.Z)({props:e,name:"MuiDialogContent"}),n=t.className,a=t.dividers,d=void 0!==a&&a,u=(0,o.Z)(t,x),p=(0,i.Z)({},t,{dividers:d}),f=function(e){var r=e.classes,t={root:["root",e.dividers&&"dividers"]};return(0,l.Z)(t,m,r)}(p);return(0,h.jsx)(v,(0,i.Z)({className:(0,s.Z)(f.root,n),ownerState:p,ref:r},u))}))},33604:function(e,r,t){var n=t(87462),o=t(63366),i=t(47313),a=t(2197),s=t(21921),l=t(61113),d=t(17592),c=t(77342),u=t(93174),p=t(63909),m=t(46417),f=["className","id"],h=(0,d.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,r){return r.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=i.forwardRef((function(e,r){var t=(0,c.Z)({props:e,name:"MuiDialogTitle"}),l=t.className,d=t.id,x=(0,o.Z)(t,f),v=t,Z=function(e){var r=e.classes;return(0,s.Z)({root:["root"]},u.a,r)}(v),g=i.useContext(p.Z).titleId,_=void 0===g?d:g;return(0,m.jsx)(h,(0,n.Z)({component:"h2",className:(0,a.Z)(Z.root,l),ownerState:v,ref:r,variant:"h6",id:null!=d?d:_},x))}));r.Z=x},93174:function(e,r,t){t.d(r,{a:function(){return i}});var n=t(77430),o=t(32298);function i(e){return(0,o.Z)("MuiDialogTitle",e)}var a=(0,n.Z)("MuiDialogTitle",["root"]);r.Z=a}}]);