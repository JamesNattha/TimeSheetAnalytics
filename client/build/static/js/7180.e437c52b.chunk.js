(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[7180],{95731:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Je}});var n=r(74165),o=r(15861),i=r(29439),a=r(47313),l=r(56352),s=r(84897),c=r(54285),d=r(24813),u=r(57829),p=r(94469),x=r(60876),h=r(11686),f=r(61682),m=r(10306),v=r(34032),C=r(2e3),g=r(14298),Z=r(96108),j=r(41412),y=r(17592),b=(0,y.ZP)("div")((function(e){var t=e.theme,r=e.view;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:"-50px","& .fc-license-message":{display:"none"},"& .fc .fc-daygrid .fc-scroller-liquid-absolute":{overflow:"hidden !important"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-today-bg-color":t.palette.primary.lighter,"--fc-list-event-dot-width":"10px","--fc-event-border-color":t.palette.primary.dark,"--fc-now-indicator-color":t.palette.error.main,color:t.palette.text.primary,backgroundColor:t.palette.background.paper,fontFamily:t.typography.fontFamily},"& .fc .fc-daygrid-day-top":{display:"grid","& .fc-daygrid-day-number":{textAlign:"center",marginTop:12,marginBottom:12}},"& .fc .fc-col-header-cell":{backgroundColor:t.palette.grey[100]},"& .fc .fc-col-header-cell-cushion":{color:t.palette.grey[900],padding:16},"& .fc-direction-ltr .fc-daygrid-event.fc-event-end, .fc-direction-rtl .fc-daygrid-event.fc-event-start":{marginLeft:4,marginBottom:6,borderRadius:4,backgroundColor:t.palette.primary.main,border:"none"},"& .fc-h-event .fc-event-main":{padding:4,paddingLeft:8},"& .fc .fc-more-popover":{border:"none",borderRadius:6},"& .fc .fc-more-popover .fc-popover-body":{backgroundColor:t.palette.grey[200],borderBottomLeftRadius:4,borderBottomRightRadius:4},"& .fc .fc-popover-header":{padding:12,borderTopLeftRadius:4,borderTopRightRadius:4,backgroundColor:t.palette.grey[200],color:t.palette.text.primary},"& .fc-theme-standard .fc-list-day-cushion":{backgroundColor:t.palette.grey[100]},"& .fc .fc-day":{cursor:"pointer"},"& .fc .fc-timeGridDay-view .fc-timegrid-slot":{backgroundColor:t.palette.background.paper},"& .fc .fc-timegrid-slot":{cursor:"pointer"},"& .fc .fc-list-event:hover td":{cursor:"pointer",backgroundColor:t.palette.grey[100]},"& .fc-timegrid-event-harness-inset .fc-timegrid-event, .fc-timegrid-event.fc-event-mirror, .fc-timegrid-more-link":{padding:8,margin:2},"& .fc-theme-standard td, .fc-theme-standard th":{border:"listMonth"===r?"none !important":null}}})),w=r(1413),k=r(45987),D=r(9019),F=r(31095),R=r(42832),S=r(61113),P=r(61689),_=r(89600),E=r(94044),A=r(23495),T=r(5186),B=r(46417),M=function(){return(0,B.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,B.jsx)("g",{id:"24pxtrack",children:(0,B.jsx)("path",{id:"Vector",fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 3.71233C12.5196 3.52479 12.2652 3.41943 12 3.41943C11.7348 3.41943 11.4804 3.52479 11.2929 3.71233C11.1054 3.89986 11 4.15422 11 4.41943V5.48943C9.50411 5.70582 8.11833 6.40023 7.04956 7.46899C5.9808 8.53776 5.28638 9.92354 5.07 11.4194H4C3.73478 11.4194 3.48043 11.5248 3.29289 11.7123C3.10536 11.8999 3 12.1542 3 12.4194C3 12.6847 3.10536 12.939 3.29289 13.1265C3.48043 13.3141 3.73478 13.4194 4 13.4194H5.07C5.28623 14.9154 5.98059 16.3013 7.04939 17.37C8.11818 18.4388 9.50405 19.1332 11 19.3494V20.4194C11 20.6847 11.1054 20.939 11.2929 21.1265C11.4804 21.3141 11.7348 21.4194 12 21.4194C12.2652 21.4194 12.5196 21.3141 12.7071 21.1265C12.8946 20.939 13 20.6847 13 20.4194V19.3494C14.496 19.1332 15.8818 18.4388 16.9506 17.37C18.0194 16.3013 18.7138 14.9154 18.93 13.4194H20C20.2652 13.4194 20.5196 13.3141 20.7071 13.1265C20.8946 12.939 21 12.6847 21 12.4194C21 12.1542 20.8946 11.8999 20.7071 11.7123C20.5196 11.5248 20.2652 11.4194 20 11.4194H18.93C18.7138 9.92348 18.0194 8.53761 16.9506 7.46882C15.8818 6.40003 14.496 5.70566 13 5.48943V4.41943C13 4.15422 12.8946 3.89986 12.7071 3.71233ZM8.46447 8.8839C7.52678 9.82158 7 11.0934 7 12.4194C7 13.7455 7.52678 15.0173 8.46447 15.955C9.40215 16.8926 10.6739 17.4194 12 17.4194C13.3261 17.4194 14.5979 16.8926 15.5355 15.955C16.4732 15.0173 17 13.7455 17 12.4194C17 11.0934 16.4732 9.82158 15.5355 8.8839C14.5979 7.94622 13.3261 7.41943 12 7.41943C10.6739 7.41943 9.40215 7.94622 8.46447 8.8839ZM14.1213 14.5408C13.5587 15.1034 12.7956 15.4194 12 15.4194C11.2044 15.4194 10.4413 15.1034 9.87868 14.5408C9.31607 13.9781 9 13.2151 9 12.4194C9 11.6238 9.31607 10.8607 9.87868 10.2981C10.4413 9.7355 11.2044 9.41943 12 9.41943C12.7956 9.41943 13.5587 9.7355 14.1213 10.2981C14.6839 10.8607 15 11.6238 15 12.4194C15 13.2151 14.6839 13.9781 14.1213 14.5408Z",fill:"black"})})})},H=["date","view","onClickNext","onClickPrev","onClickToday","onChangeView"],L=[{label:"Month",value:"dayGridMonth",icon:function(){return(0,B.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,B.jsx)("path",{d:"M17.3996 4.26941C18.1953 4.26941 18.9583 4.58548 19.5209 5.14809C20.0835 5.7107 20.3996 6.47376 20.3996 7.26941V18.0694C20.3996 18.8651 20.0835 19.6281 19.5209 20.1907C18.9583 20.7533 18.1953 21.0694 17.3996 21.0694H6.59961C5.80396 21.0694 5.0409 20.7533 4.47829 20.1907C3.91568 19.6281 3.59961 18.8651 3.59961 18.0694V7.26941C3.59961 6.47376 3.91568 5.7107 4.47829 5.14809C5.0409 4.58548 5.80396 4.26941 6.59961 4.26941H17.3996ZM8.39961 13.8694C8.08135 13.8694 7.77612 13.9958 7.55108 14.2209C7.32604 14.4459 7.19961 14.7511 7.19961 15.0694C7.19961 15.3877 7.32604 15.6929 7.55108 15.9179C7.77612 16.143 8.08135 16.2694 8.39961 16.2694C8.71787 16.2694 9.02309 16.143 9.24814 15.9179C9.47318 15.6929 9.59961 15.3877 9.59961 15.0694C9.59961 14.7511 9.47318 14.4459 9.24814 14.2209C9.02309 13.9958 8.71787 13.8694 8.39961 13.8694ZM11.9996 13.8694C11.6813 13.8694 11.3761 13.9958 11.1511 14.2209C10.926 14.4459 10.7996 14.7511 10.7996 15.0694C10.7996 15.3877 10.926 15.6929 11.1511 15.9179C11.3761 16.143 11.6813 16.2694 11.9996 16.2694C12.3179 16.2694 12.6231 16.143 12.8481 15.9179C13.0732 15.6929 13.1996 15.3877 13.1996 15.0694C13.1996 14.7511 13.0732 14.4459 12.8481 14.2209C12.6231 13.9958 12.3179 13.8694 11.9996 13.8694ZM8.39961 9.06941C8.08135 9.06941 7.77612 9.19584 7.55108 9.42088C7.32604 9.64592 7.19961 9.95115 7.19961 10.2694C7.19961 10.5877 7.32604 10.8929 7.55108 11.1179C7.77612 11.343 8.08135 11.4694 8.39961 11.4694C8.71787 11.4694 9.02309 11.343 9.24814 11.1179C9.47318 10.8929 9.59961 10.5877 9.59961 10.2694C9.59961 9.95115 9.47318 9.64592 9.24814 9.42088C9.02309 9.19584 8.71787 9.06941 8.39961 9.06941ZM11.9996 9.06941C11.6813 9.06941 11.3761 9.19584 11.1511 9.42088C10.926 9.64592 10.7996 9.95115 10.7996 10.2694C10.7996 10.5877 10.926 10.8929 11.1511 11.1179C11.3761 11.343 11.6813 11.4694 11.9996 11.4694C12.3179 11.4694 12.6231 11.343 12.8481 11.1179C13.0732 10.8929 13.1996 10.5877 13.1996 10.2694C13.1996 9.95115 13.0732 9.64592 12.8481 9.42088C12.6231 9.19584 12.3179 9.06941 11.9996 9.06941ZM15.5996 9.06941C15.2813 9.06941 14.9761 9.19584 14.7511 9.42088C14.526 9.64592 14.3996 9.95115 14.3996 10.2694C14.3996 10.5877 14.526 10.8929 14.7511 11.1179C14.9761 11.343 15.2813 11.4694 15.5996 11.4694C15.9179 11.4694 16.2231 11.343 16.4481 11.1179C16.6732 10.8929 16.7996 10.5877 16.7996 10.2694C16.7996 9.95115 16.6732 9.64592 16.4481 9.42088C16.2231 9.19584 15.9179 9.06941 15.5996 9.06941Z",fill:"black"})})}},{label:"Week",value:"timeGridWeek",icon:function(){return(0,B.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,B.jsx)("g",{id:"24pxWeek",children:(0,B.jsx)("path",{id:"Vector",d:"M17.75 3.66943C18.612 3.66943 19.4386 4.01184 20.0481 4.62134C20.6576 5.23083 21 6.05748 21 6.91943V18.4194C21 19.2814 20.6576 20.108 20.0481 20.7175C19.4386 21.327 18.612 21.6694 17.75 21.6694H6.25C5.38805 21.6694 4.5614 21.327 3.9519 20.7175C3.34241 20.108 3 19.2814 3 18.4194V6.91943C3 6.05748 3.34241 5.23083 3.9519 4.62134C4.5614 4.01184 5.38805 3.66943 6.25 3.66943H17.75ZM8.493 8.31743C8.4671 8.12918 8.37071 7.95778 8.2233 7.83787C8.07589 7.71795 7.88846 7.65846 7.69888 7.67141C7.5093 7.68436 7.3317 7.76879 7.20197 7.90764C7.07224 8.04649 7.00006 8.22941 7 8.41943V9.41943L7.007 9.52143C7.0329 9.70968 7.12929 9.88108 7.2767 10.001C7.42411 10.1209 7.61154 10.1804 7.80112 10.1675C7.9907 10.1545 8.1683 10.0701 8.29803 9.93122C8.42776 9.79237 8.49994 9.60946 8.5 9.41943V8.41943L8.493 8.31743ZM8.493 15.8174C8.4671 15.6292 8.37071 15.4578 8.2233 15.3379C8.07589 15.2179 7.88846 15.1585 7.69888 15.1714C7.5093 15.1844 7.3317 15.2688 7.20197 15.4076C7.07224 15.5465 7.00006 15.7294 7 15.9194V16.9194L7.007 17.0214C7.0329 17.2097 7.12929 17.3811 7.2767 17.501C7.42411 17.6209 7.61154 17.6804 7.80112 17.6675C7.9907 17.6545 8.1683 17.5701 8.29803 17.4312C8.42776 17.2924 8.49994 17.1095 8.5 16.9194V15.9194L8.493 15.8174ZM7.757 11.3424C7.55809 11.3424 7.36732 11.4215 7.22667 11.5621C7.08602 11.7028 7.007 11.8935 7.007 12.0924L7 13.2394L7.007 13.3414C7.0329 13.5297 7.12929 13.7011 7.2767 13.821C7.42411 13.9409 7.61154 14.0004 7.80112 13.9875C7.9907 13.9745 8.1683 13.8901 8.29803 13.7512C8.42776 13.6124 8.49994 13.4295 8.5 13.2394L8.507 12.0914L8.5 11.9894C8.47535 11.8099 8.38652 11.6453 8.24993 11.5262C8.11334 11.4071 7.93824 11.3414 7.757 11.3414V11.3424Z",fill:"black"})})})}},{label:"Day",value:"timeGridDay",icon:function(){return(0,B.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,B.jsx)("g",{id:"24pxDay",children:(0,B.jsx)("path",{id:"Vector",d:"M9 15.6694V14.1694H15V15.6694H9ZM21 17.9194C21 18.914 20.6049 19.8678 19.9016 20.5711C19.1984 21.2743 18.2446 21.6694 17.25 21.6694H6.75C5.75544 21.6694 4.80161 21.2743 4.09835 20.5711C3.39509 19.8678 3 18.914 3 17.9194V7.41943C3 6.42487 3.39509 5.47104 4.09835 4.76778C4.80161 4.06452 5.75544 3.66943 6.75 3.66943H17.25C18.2446 3.66943 19.1984 4.06452 19.9016 4.76778C20.6049 5.47104 21 6.42487 21 7.41943V17.9194ZM8.25 8.16943C8.05109 8.16943 7.86032 8.24845 7.71967 8.3891C7.57902 8.52976 7.5 8.72052 7.5 8.91943C7.5 9.11835 7.57902 9.30911 7.71967 9.44976C7.86032 9.59042 8.05109 9.66943 8.25 9.66943H15.75C15.9489 9.66943 16.1397 9.59042 16.2803 9.44976C16.421 9.30911 16.5 9.11835 16.5 8.91943C16.5 8.72052 16.421 8.52976 16.2803 8.3891C16.1397 8.24845 15.9489 8.16943 15.75 8.16943H8.25ZM8.25 12.6694C8.05109 12.6694 7.86032 12.7485 7.71967 12.8891C7.57902 13.0298 7.5 13.2205 7.5 13.4194V16.4194C7.5 16.6183 7.57902 16.8091 7.71967 16.9498C7.86032 17.0904 8.05109 17.1694 8.25 17.1694H15.75C15.9489 17.1694 16.1397 17.0904 16.2803 16.9498C16.421 16.8091 16.5 16.6183 16.5 16.4194V13.4194C16.5 13.2205 16.421 13.0298 16.2803 12.8891C16.1397 12.7485 15.9489 12.6694 15.75 12.6694H8.25Z",fill:"black"})})})}},{label:"Agenda",value:"listMonth",icon:function(){return(0,B.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,B.jsx)("g",{id:"24pxAgenda",children:(0,B.jsx)("path",{id:"Vector",d:"M21 18.4194C21 19.2814 20.6576 20.108 20.0481 20.7175C19.4386 21.327 18.612 21.6694 17.75 21.6694H6.25C5.38805 21.6694 4.5614 21.327 3.9519 20.7175C3.34241 20.108 3 19.2814 3 18.4194V6.91943C3 6.05748 3.34241 5.23083 3.9519 4.62134C4.5614 4.01184 5.38805 3.66943 6.25 3.66943H17.75C18.612 3.66943 19.4386 4.01184 20.0481 4.62134C20.6576 5.23083 21 6.05748 21 6.91943V18.4194ZM17 8.41943C17 8.2382 16.9344 8.06309 16.8152 7.9265C16.6961 7.78991 16.5316 7.70108 16.352 7.67643L16.25 7.66943H7.75L7.648 7.67643C7.46849 7.70113 7.30399 7.78999 7.18491 7.92657C7.06583 8.06315 7.00023 8.23823 7.00023 8.41943C7.00023 8.60064 7.06583 8.77571 7.18491 8.9123C7.30399 9.04888 7.46849 9.13773 7.648 9.16243L7.75 9.16943H16.25L16.352 9.16243C16.5316 9.13779 16.6961 9.04895 16.8152 8.91236C16.9344 8.77578 17 8.60067 17 8.41943ZM17 16.9194C17 16.7382 16.9344 16.5631 16.8152 16.4265C16.6961 16.2899 16.5316 16.2011 16.352 16.1764L16.25 16.1694H7.75L7.648 16.1764C7.46849 16.2011 7.30399 16.29 7.18491 16.4266C7.06583 16.5632 7.00023 16.7382 7.00023 16.9194C7.00023 17.1006 7.06583 17.2757 7.18491 17.4123C7.30399 17.5489 7.46849 17.6377 7.648 17.6624L7.75 17.6694H16.25L16.352 17.6624C16.5316 17.6378 16.6961 17.549 16.8152 17.4124C16.9344 17.2758 17 17.1007 17 16.9194ZM17 12.6694C17 12.4882 16.9344 12.3131 16.8152 12.1765C16.6961 12.0399 16.5316 11.9511 16.352 11.9264L16.25 11.9194H7.75L7.648 11.9264C7.46849 11.9511 7.30399 12.04 7.18491 12.1766C7.06583 12.3132 7.00023 12.4882 7.00023 12.6694C7.00023 12.8506 7.06583 13.0257 7.18491 13.1623C7.30399 13.2989 7.46849 13.3877 7.648 13.4124L7.75 13.4194H16.25L16.352 13.4124C16.5316 13.3878 16.6961 13.299 16.8152 13.1624C16.9344 13.0258 17 12.8507 17 12.6694Z",fill:"black"})})})}}],V=function(e){var t=e.date,r=e.view,n=e.onClickNext,o=e.onClickPrev,l=e.onClickToday,s=e.onChangeView,c=(0,k.Z)(e,H),u=(0,d.Z)((function(e){return e.breakpoints.down("sm")})),p=(0,a.useState)(L),x=(0,i.Z)(p,2),h=x[0],f=x[1];return(0,a.useEffect)((function(){if(u){var e=L.filter((function(e){return"dayGridMonth"!==e.value&&"timeGridWeek"!==e.value}));f(e)}else f(L)}),[u]),(0,B.jsxs)(D.ZP,(0,w.Z)((0,w.Z)({alignItems:"center",container:!0,justifyContent:"space-between",spacing:u?1:3},c),{},{sx:{pb:3},children:[(0,B.jsx)(D.ZP,{item:!0,children:(0,B.jsxs)(F.Z,{variant:"outlined",onClick:l,size:u?"small":"medium",sx:{borderRadius:"40px",height:"48px",my:"24px",borderColor:"#393939",color:"#393939","&:hover":{borderColor:"#393939",color:"#393939"}},children:[(0,B.jsx)(M,{})," Today"]})}),(0,B.jsx)(D.ZP,{item:!0,children:(0,B.jsxs)(R.Z,{direction:"row",alignItems:"center",spacing:u?1:3,children:[(0,B.jsx)(E.Z,{onClick:o,size:u?"small":"large",sx:{borderRadius:"40px","&:not(:hover)":{bgcolor:"#393939"},"&:hover":{bgcolor:"#393939"}},children:(0,B.jsx)(A.Z,{style:{color:"#ffffff"}})}),(0,B.jsx)(S.Z,{variant:u?"h5":"h3",color:"textPrimary",children:(0,_.Z)(t,"MMMM yyyy")}),(0,B.jsx)(E.Z,{onClick:n,size:u?"small":"large",sx:{borderRadius:"40px","&:not(:hover)":{bgcolor:"#393939"},"&:hover":{bgcolor:"#393939"}},children:(0,B.jsx)(T.Z,{style:{color:"#ffffff"}})})]})}),(0,B.jsx)(D.ZP,{item:!0,children:h.map((function(e){var t=e.icon;return(0,B.jsx)(P.Z,{title:e.label,children:(0,B.jsx)(E.Z,{size:u?"small":"large",spacing:10,variant:e.value===r?"contained":"text",onClick:function(){return s(e.value)},sx:{"& svg path":{fill:e.value===r?"#ffffff":"#393939"},padding:"8px",borderRadius:"40px",bgcolor:e.value===r?"#393939":"transparent","&:hover":{"& svg path":{fill:"#ffffff"},bgcolor:"#393939"}},children:(0,B.jsx)(t,{style:{fontSize:"1.3rem"}})})},e.value)}))})]}))},I=r(19860),W=r(33604),z=r(19536),N=r(96467),U=r(15103),G=r(24631),O=r(41727),q=r(83929),J=r(70024),K=r(1550),$=r(55685),Q=r(74268),X=r(4117),Y=r(43394),ee=r(72798),te=r(11653),re=r(16031),ne=r.n(re),oe=r(3463),ie=r(7410),ae=r(67114),le=r.n(ae),se=r(72495),ce=r(43681),de=function(e){var t=e.color,r=e.value;return(0,B.jsx)(P.Z,{title:t,children:(0,B.jsx)(q.Z,{value:r,label:"",control:(0,B.jsx)(Q.Z,{disableRipple:!0,icon:(0,B.jsx)(se.Z,{variant:"rounded",type:"combined",size:"xs",sx:{backgroundColor:t,borderColor:"divider"},children:(0,B.jsx)(u.Z,{sx:{display:"none"}})}),checkedIcon:(0,B.jsx)(se.Z,{variant:"rounded",type:"combined",size:"xs",sx:{backgroundColor:t,color:"#000",borderColor:"divider"},children:(0,B.jsx)(ce.Z,{})}),sx:{"&:hover":{bgcolor:"transparent"}}})})})},ue=(r(18530),r(96976)),pe=r(89720),xe=r(26446),he=function(e,t){console.log("event in add calendar",e);var r={title:"",description:"",color:"#166CFF",textColor:"#fff",allDay:!1,start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date,test:t?new Date(t.end):new Date,type:null};return e||t?ne().merge({},r,e):r},fe=function(e){var t=e.event,r=e.range,c=e.onCancel,d=e.closePop,u=e.refetch;console.log("even is add ",t);var p=(0,a.useState)([]),x=(0,i.Z)(p,2),h=x[0],f=x[1],m=((0,I.Z)(),(0,l.I0)(),!t);console.log("isCreated",m);var v=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.enum.getEnumCalendar();case 3:t=e.sent,r=t.data,t.isStatus&&f(r),console.log("data profile",r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){v()}),[]);var C=oe.Ry().shape({type:oe.Z_().required("Data type is required"),title:oe.Z_().max(255).required("Title is required"),description:oe.Z_().max(5e3),end:oe.hT().when("start",(function(e,t){return e&&t.min(e,"End date must be later than start date")})),start:oe.hT(),color:oe.Z_().max(255),textColor:oe.Z_().max(255)}),g=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("event",t),le().fire({title:"Delete",text:"if you delete the information, this process will not be able to be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0066FF",cancelButtonColor:"#0066FF",reverseButtons:!0,confirmButtonText:"Confirm",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="delete-icon"></div>'}).then((function(e){if(e.isConfirmed)s.Z.calendar.deleteEvent({id:t.id}).then((function(){console.log("hello delete"),le().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'}),u(),c(),d()}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={title:y.values.title,detail:y.values.description,color:y.values.color,textColor:y.values.textColor,allDay:y.values.allDay,start_date:y.values.start,end_date:y.values.end,type:y.values.type},console.log("Invite button clicked"),console.log("data:",t),e.next=6,s.Z.calendar.createEvent(t);case 6:r=e.sent,console.log("createResult",r),!1===r.isStatus&&"User with the provided email already exists."===r.message?(le().fire({title:"Error",text:"This email has already existed in the dashboard, Please try the other one",confirmButtonText:"Close",customClass:{confirmButton:"rounded-button "},iconHtml:'<div class="discard-icon"></div>'}),setEmailError("Email has already existed")):(le().fire({title:"Success",timer:2e3,customClass:"modal-success",text:"The invitation has been send!",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'}),d(),u(),console.log("Email sent successfully!",r.message)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),le().fire({title:"Error",text:"Please try again",confirmButtonText:"Close",customClass:{confirmButton:"rounded-button "},iconHtml:'<div class="discard-icon"></div>'}),console.error("Error sending email:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={id:t.id,title:y.values.title,detail:y.values.description,color:y.values.color,textColor:y.values.textColor,allDay:y.values.allDay,start_date:y.values.start,end_date:y.values.end,type:y.values.type},console.log("Invite button clicked"),console.log("data:",r),e.next=6,s.Z.calendar.updateEvent(r);case 6:if(o=e.sent,console.log("createResult:",r),!1!==o.isStatus||"User with the provided email already exists."!==o.message){e.next=13;break}le().fire({title:"Error",text:"This email has already existed in the dashboard, Please try the other one",confirmButtonText:"Close",customClass:{confirmButton:"rounded-button "},iconHtml:'<div class="discard-icon"></div>'}),setEmailError("Email has already existed"),e.next=18;break;case 13:return le().fire({title:"Success",timer:2e3,customClass:"modal-success",text:"The invitation has been send!",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'}),d(),e.next=17,u();case 17:console.log("Email sent successfully!",o.message);case 18:return e.next=20,u();case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),le().fire({title:"Error",text:"Please try again",confirmButtonText:"Close",customClass:{confirmButton:"rounded-button "},iconHtml:'<div class="discard-icon"></div>'}),console.error("Error sending email:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),y=(0,ie.TA)({initialValues:he(t,r),validationSchema:C,onSubmit:function(e,r){var n=r.setSubmitting;try{var o={title:e.title,description:e.description,color:e.color,textColor:e.textColor,allDay:e.allDay,start:e.start,end:e.end};u(),t?j(o):Z(o),n(!1)}catch(i){console.error(i)}}}),b=y.values,k=y.errors,_=y.touched,A=y.handleSubmit,T=(y.isSubmitting,y.getFieldProps),M=y.setFieldValue;return(0,B.jsx)(ie.Hy,{value:y,children:(0,B.jsx)(Y._,{dateAdapter:te.H,children:(0,B.jsxs)(ie.l0,{autoComplete:"off",noValidate:!0,onSubmit:A,children:[(0,B.jsx)(W.Z,{sx:{bgcolor:"#F3F4F6"},children:t?"Edit Event":"Add Event"}),(0,B.jsx)(z.Z,{}),(0,B.jsx)(N.Z,{sx:{p:2.5},children:(0,B.jsxs)(D.ZP,{container:!0,spacing:1.75,children:[(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(R.Z,{spacing:1,children:[(0,B.jsxs)(U.Z,{htmlFor:"cal-title",children:["Title",(0,B.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:"*"})]}),(0,B.jsx)(G.Z,(0,w.Z)((0,w.Z)({fullWidth:!0,id:"cal-title",placeholder:"Title"},T("title")),{},{error:Boolean(_.title&&k.title),helperText:_.title&&k.title,InputProps:{style:{borderRadius:"30px "}}}))]})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(R.Z,{spacing:1,children:[(0,B.jsx)(U.Z,{htmlFor:"cal-description",children:"Description"}),(0,B.jsx)(G.Z,(0,w.Z)((0,w.Z)({fullWidth:!0,id:"cal-description",multiline:!0,rows:3,placeholder:"Description"},T("description")),{},{error:Boolean(_.description&&k.description),helperText:_.description&&k.description,InputProps:{style:{borderRadius:"10px "}}}))]})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(R.Z,{spacing:1,children:[(0,B.jsxs)(U.Z,{htmlFor:"cal-end-date-time",children:["Start Date",(0,B.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:"*"})]}),(0,B.jsx)(ee.W,{value:b.start,onChange:function(e){return M("start",e)},fullWidth:!0,inputFormat:"dd/MM/yyyy HH:mm",ampm:!1,mask:"____/__/__ __:__ _M",renderInput:function(e){return(0,B.jsx)(G.Z,(0,w.Z)((0,w.Z)({},e),{},{id:"cal-date-time",placeholder:"Start date",fullWidth:!0,error:Boolean(_.start&&k.start),helperText:_.start&&k.start,InputProps:(0,w.Z)((0,w.Z)({},e.InputProps),{},{style:(0,w.Z)((0,w.Z)({},e.InputProps.sx),{},{borderRadius:"30px"}),endAdornment:(0,B.jsx)(O.Z,{position:"end",children:(0,B.jsx)(pe.Z,{})})})}))}})]})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,B.jsxs)(R.Z,{spacing:1,children:[(0,B.jsxs)(U.Z,{htmlFor:"cal-end-date-time",children:["End Date",(0,B.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:"*"})]}),(0,B.jsx)(ee.W,{value:b.end,onChange:function(e){return M("end",e)},fullWidth:!0,inputFormat:"dd/MM/yyyy HH:mm",ampm:!1,mask:"____/__/__ __:__ _M",renderInput:function(e){return(0,B.jsx)(G.Z,(0,w.Z)((0,w.Z)({},e),{},{id:"cal-date-time",placeholder:"End date",fullWidth:!0,error:Boolean(_.end&&k.end),helperText:_.end&&k.end,InputProps:(0,w.Z)((0,w.Z)({},e.InputProps),{},{style:(0,w.Z)((0,w.Z)({},e.InputProps.sx),{},{borderRadius:"30px"}),endAdornment:(0,B.jsx)(O.Z,{position:"end",children:(0,B.jsx)(pe.Z,{})})})}))}})]})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsx)(q.Z,{control:(0,B.jsx)(J.Z,(0,w.Z)((0,w.Z)({checked:b.allDay},T("allDay")),{},{color:"success"})),label:"All day"})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(D.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsx)(S.Z,{variant:"subtitle1",children:"Background Color"})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsx)(K.Z,{children:(0,B.jsx)($.Z,(0,w.Z)((0,w.Z)({row:!0,"aria-label":"color"},T("color")),{},{onChange:function(e){return M("color",e.target.value)},name:"color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:"14px"},"& .MuiAvatar-root":{width:"36px",height:"36px"}},children:[{value:"#166CFF",color:"primary.main"},{value:"#FF4446",color:"error.main"},{value:"#48BC19",color:"success.main"},{value:"#818181",color:"secondary.main"},{value:"#F9A314",color:"warning.main"},{value:"#E2F2FF",color:"primary.lighter"},{value:"#FFEFEE",color:"error.lighter"},{value:"#F5FFEA",color:"success.lighter"},{value:"#F3F3F3",color:"secondary.lighter"},{value:"#FFFAE2",color:"warning.lighter"},{value:"#fff",color:"white"}].map((function(e,t){return(0,B.jsx)(de,{value:e.value,color:e.color},t)}))}))})})]})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(D.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsx)(S.Z,{variant:"subtitle1",children:"Text Color"})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsx)(K.Z,{component:"fieldset",children:(0,B.jsx)($.Z,(0,w.Z)((0,w.Z)({row:!0,"aria-label":"textColor"},T("textColor")),{},{onChange:function(e){return M("textColor",e.target.value)},name:"text-color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:"14px"},"& .MuiAvatar-root":{width:"36px",height:"36px"}},children:[{value:"#fff",color:"white"},{value:"#FFFAE2",color:"error.lighter"},{value:"#F3F3F3",color:"success.lighter"},{value:"#F5FFEA",color:"secondary.lighter"},{value:"#FFEFEE",color:"warning.lighter"},{value:"#E2F2FF",color:"primary.lighter"},{value:"#166CFF",color:"primary.main"},{value:"#FF4446",color:"error.main"},{value:"#48BC19",color:"success.main"},{value:"#818181",color:"secondary.main"},{value:"#F9A314",color:"warning.main"}].map((function(e,t){return(0,B.jsx)(de,{value:e.value,color:e.color},t)}))}))})})]})}),(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(D.ZP,{container:!0,spacing:2,children:[(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(S.Z,{variant:"subtitle1",children:["Event Type",(0,B.jsx)("span",{style:{color:"red",marginLeft:"3px"},children:"*"})]})}),(0,B.jsxs)(D.ZP,{item:!0,xs:12,children:[(0,B.jsx)(K.Z,{component:"fieldset",children:(0,B.jsx)($.Z,{row:!0,name:"color",value:b.color,onChange:function(e){M("type",e.target.value)},children:h.map((function(e,t){return(0,B.jsx)(q.Z,{value:e.enum_id,control:(0,B.jsx)(Q.Z,{checked:y.values.type===e.enum_id,defaultChecked:1}),label:e.name_eng},t)}))})}),_.type&&k.type?(0,B.jsx)(S.Z,{variant:"body2",color:"error",children:k.type}):null]})]})})]})}),(0,B.jsx)(X.Z,{sx:{p:2.5},children:(0,B.jsxs)(D.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,B.jsx)(D.ZP,{item:!0,children:!m&&(0,B.jsx)(P.Z,{title:"Delete Event",placement:"top",children:(0,B.jsx)(E.Z,{onClick:g,size:"large",color:"error",sx:{borderRadius:"30px"},children:(0,B.jsx)(xe.Z,{})})})}),(0,B.jsx)(D.ZP,{item:!0,children:(0,B.jsxs)(R.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,B.jsx)(F.Z,{variant:"outlined",onClick:function(){var e=y.values.start.getTime(),n=y.values.end.getTime();if(m){var o=r.start.getTime(),i=r.end.getTime();y.values.title||y.values.description||!y.values.end||!y.values.start||"#166CFF"!==y.values.color||"#fff"!==y.values.textColor||e!==o||n!==i?le().fire({title:"Discard change",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(y.resetForm(),c(),u()):(e.dismiss,le().DismissReason.cancel)})):c()}else{var a=t.start.getTime(),l=t.end.getTime();console.log("test function",y.values.description!==t.description),console.log("formik",y.values.description),console.log("values",t.description),y.values.title&&y.values.end&&y.values.start&&y.values.color&&y.values.textColor&&y.values.title===t.title&&y.values.description===t.description&&n===l&&e===a&&y.values.color===t.color&&y.values.textColor===t.textColor?c():le().fire({title:"Discard change",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(y.resetForm(),c()):(e.dismiss,le().DismissReason.cancel)}))}},sx:{mr:1.5,backgroundColor:"transparent",borderColor:"#393939",color:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:"Cancel"}),(0,B.jsx)(F.Z,{variant:"contained",type:"submit",sx:{backgroundColor:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#242424"}},children:t?"Edit":"Add"})]})})]})})]})})})},me=r(70501),ve=r(15480),Ce=r(48737),ge=r(93433),Ze=r(80614);var je=r(10392),ye=r(16957);var be=r.p+"static/media/upload.d053f6f121eb0aaaccb0158e6c4dcfeb.svg";function we(e){var t=e.type;return(0,B.jsxs)(B.Fragment,{children:["STANDARD"!==t&&(0,B.jsxs)(R.Z,{spacing:2,alignItems:"center",justifyContent:"center",direction:{xs:"column",md:"row"},sx:{width:1,textAlign:{xs:"center",md:"left"}},children:[(0,B.jsx)(ye.Z,{component:"img",image:be,sx:{width:150}}),(0,B.jsxs)(R.Z,{sx:{p:3},spacing:1,children:[(0,B.jsx)(S.Z,{variant:"h5",children:"Drag & Drop or Select file"}),(0,B.jsxs)(S.Z,{color:"secondary",children:["Drop files here or click\xa0",(0,B.jsx)(S.Z,{component:"span",color:"primary",sx:{textDecoration:"underline"},children:"browse"}),"\xa0thorough your machine"]})]})]}),"STANDARD"===t&&(0,B.jsx)(R.Z,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,B.jsx)(je.Z,{style:{fontSize:"32px"}})})]})}var ke=r(48310),De=r(60194),Fe=r(83213);var Re=r(96020),Se=r(98315);function Pe(e){var t=e.showList,r=void 0!==t&&t,n=e.files,o=e.onRemove,i=e.type,a=(0,I.Z)(),l=n.length>0,s=i;return(0,B.jsx)(ke.Z,{disablePadding:!0,sx:(0,w.Z)((0,w.Z)({},l&&"STANDARD"!==s&&{my:3}),"STANDARD"===s&&{width:"calc(100% - 84px)"}),children:n.map((function(e,t){var n=function(e,t){return"string"===typeof e?{key:t?"".concat(e,"-").concat(t):e,preview:e}:{key:t?"".concat(e.name,"-").concat(t):e.name,name:e.name,size:e.size,path:e.path,type:e.type,preview:e.preview,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate}}(e,t),i=n.key,l=n.name,c=n.size,d=n.preview,u=n.type;return r?(0,B.jsxs)(De.ZP,{sx:{p:0,m:.5,width:"STANDARD"===s?64:80,height:"STANDARD"===s?64:80,borderRadius:1.25,position:"relative",display:"inline-flex",verticalAlign:"text-top",border:"solid 1px ".concat(a.palette.divider),overflow:"hidden"},children:[(null===u||void 0===u?void 0:u.includes("image"))&&(0,B.jsx)("img",{alt:"preview",src:d,style:{width:"100%"}}),!(null!==u&&void 0!==u&&u.includes("image"))&&(0,B.jsx)(Re.Z,{style:{width:"100%",fontSize:"1.5rem"}}),o&&(0,B.jsx)(E.Z,{size:"small",color:"error",shape:"rounded",onClick:function(){return o(e)},sx:{fontSize:"0.875rem",bgcolor:"background.paper",p:0,width:"auto",height:"auto",top:2,right:2,position:"absolute"},children:(0,B.jsx)(Se.Z,{})})]},i):(0,B.jsxs)(De.ZP,{sx:{my:1,px:2,py:.75,borderRadius:.75,border:function(e){return"solid 1px ".concat(e.palette.divider)}},children:[(0,B.jsx)(Re.Z,{style:{width:"30px",height:"30px",fontSize:"1.15rem",marginRight:4}}),(0,B.jsx)(Fe.Z,{primary:"string"===typeof e?e:l,secondary:"string"===typeof e?"":c,primaryTypographyProps:{variant:"subtitle2"},secondaryTypographyProps:{variant:"caption"}}),o&&(0,B.jsx)(E.Z,{edge:"end",size:"small",onClick:function(){return o(e)},sx:{color:"#242424","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:(0,B.jsx)(Se.Z,{style:{fontSize:"1.15rem"}})})]},i)}))})}var _e=(0,y.ZP)("div")((function(e){var t=e.theme;return{outline:"none",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper,border:"1px dashed ".concat(t.palette.secondary.main),"&:hover":{opacity:.72,cursor:"pointer"}}})),Ee=function(e){var t=e.error,r=e.showList,n=void 0!==r&&r,o=e.files,i=e.setFieldValue,a=e.sx,l=e.type,s=e.onUpload,c=(0,Ze.uI)({multiple:!0,onDrop:function(e){i("files",o?[].concat((0,ge.Z)(o),(0,ge.Z)(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))):e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),d=c.getRootProps,p=c.getInputProps,x=c.isDragActive,h=c.isDragReject,f=(c.fileRejections,function(){i("files",null)});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(u.Z,{sx:(0,w.Z)((0,w.Z)({width:"100%"},"STANDARD"===l&&{width:"auto",display:"flex"}),a),children:[(0,B.jsxs)(R.Z,(0,w.Z)((0,w.Z)({},"STANDARD"===l&&{alignItems:"center"}),{},{children:[(0,B.jsxs)(_e,(0,w.Z)((0,w.Z)({},d()),{},{sx:(0,w.Z)((0,w.Z)((0,w.Z)({},"STANDARD"===l&&{p:0,m:1,width:64,height:64}),x&&{opacity:.72}),(h||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),children:[(0,B.jsx)("input",(0,w.Z)({},p())),(0,B.jsx)(we,{type:l})]})),"STANDARD"===l&&o&&o.length>1&&(0,B.jsx)(F.Z,{variant:"contained",color:"error",size:"extraSmall",onClick:f,children:"Remove all"})]})),o&&o.length>0&&(0,B.jsx)(Pe,{files:o,showList:n,onRemove:function(e){var t=o&&o.filter((function(t){return t!==e}));i("files",t)},type:l})]}),"STANDARD"!==l&&o&&o.length>0&&(0,B.jsxs)(R.Z,{direction:"row",justifyContent:"flex-end",spacing:1.5,sx:{mt:1.5},children:[(0,B.jsx)(F.Z,{color:"inherit",size:"small",onClick:f,sx:{mr:1.5,backgroundColor:"transparent",borderColor:"#393939",color:"#393939",borderRadius:"40px",width:"120px","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:"Discard all"}),(0,B.jsx)(F.Z,{size:"small",variant:"contained",onClick:function(){return s(o)},sx:{backgroundColor:"#393939",borderRadius:"40px",width:"120px","&:hover":{backgroundColor:"#242424"}},children:"Upload files"})]})]})},Ae=r(78925),Te=r.p+"static/media/FormEvent.52b1b1ec477287fe7ec2.xlsx",Be=function(e){var t=e.onCancel,r=e.refetch,l=(0,a.useState)([]),c=(0,i.Z)(l,2),d=(c[0],c[1],(0,a.useState)(!1)),u=(0,i.Z)(d,2),p=u[0],x=(u[1],(0,a.useState)(0)),h=(0,i.Z)(x,2),f=(h[0],h[1],(0,a.useState)([])),m=(0,i.Z)(f,2),v=(m[0],m[1],function(){var e=(0,o.Z)((0,n.Z)().mark((function e(o){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(o),e.next=4,s.Z.calendar.UploadCalendar(o);case 4:return i=e.sent,console.log("uploadData",i),e.next=8,r();case 8:return e.next=10,t();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),le().fire({title:"Error",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0066FF",cancelButtonColor:"#0066FF",reverseButtons:!0,confirmButtonText:"Confirm",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),C=function(e){var t=new FileReader;t.readAsBinaryString(e[0]),t.onload=function(e){var t=e.target.result,r=Ce.ij(t,{type:"binary"}),n=r.SheetNames[0],o=r.Sheets[n],i=Ce.P6.sheet_to_json(o,{raw:!1,dateNF:"m/d/yyyy h:mm:ss"},{header:1});console.log("parsedData",i),v(i)}};return(0,B.jsxs)(me.Z,{children:[(0,B.jsx)(W.Z,{sx:{bgcolor:"#F3F4F6"},children:"Import Event"}),(0,B.jsx)(z.Z,{}),(0,B.jsx)("div",{style:{padding:"20px"},children:(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(ie.J9,{initialValues:{files:null},onSubmit:function(e){console.log("dropzone upload - ",e)},validationSchema:oe.Ry().shape({files:oe.nK().required("Avatar is a required.")}),children:function(e){var t=e.values,r=e.handleSubmit,n=e.setFieldValue,o=e.touched,i=e.errors;return(0,B.jsx)("form",{onSubmit:r,children:(0,B.jsx)(D.ZP,{container:!0,spacing:3,children:(0,B.jsx)(D.ZP,{item:!0,xs:12,children:(0,B.jsxs)(R.Z,{spacing:1.5,alignItems:"center",children:[(0,B.jsx)(Ee,{showList:p,setFieldValue:n,files:t.files,error:o.files&&!!i.files,onUpload:C}),o.files&&i.files&&(0,B.jsx)(ve.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:i.files})]})})})})}})})}),(0,B.jsxs)(D.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",sx:{px:"20px",pb:"20px"},children:[(0,B.jsx)(D.ZP,{item:!0}),(0,B.jsx)(D.ZP,{item:!0,children:(0,B.jsx)(R.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,B.jsx)(F.Z,{variant:"outlined",onClick:t,sx:{mr:1.5,backgroundColor:"transparent",borderColor:"#393939",color:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:"CLOSE"})})})]})]})},Me=r(66835),He=r(23477),Le=r(24076),Ve=r(67478),Ie=r(57861),We=function(e){var t=e.onCancel,r=(e.refetch,(0,a.useState)([])),l=(0,i.Z)(r,2),c=(l[0],l[1],(0,a.useState)(!1)),d=(0,i.Z)(c,2),u=(d[0],d[1],(0,a.useState)(0)),p=(0,i.Z)(u,2),x=(p[0],p[1],(0,a.useState)([])),h=(0,i.Z)(x,2),f=h[0],m=h[1],v=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.calendar.bankHolidayExport();case 3:t=e.sent,r=t.data,t.isStatus&&m(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){0===f.length&&v()}));var C=(0,a.useState)([]),g=(0,i.Z)(C,2);g[0],g[1];return(0,B.jsxs)(me.Z,{children:[(0,B.jsx)(W.Z,{sx:{bgcolor:"#F3F4F6"},children:"Export Event Form"}),(0,B.jsx)(z.Z,{}),(0,B.jsx)("div",{style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{className:"row",children:(0,B.jsx)("div",{className:"col-sm-6 offset-3",children:(0,B.jsxs)(Me.Z,{children:[(0,B.jsx)(He.Z,{children:(0,B.jsxs)(Le.Z,{children:[(0,B.jsx)(Ve.Z,{sx:{textAlign:"center"},children:"#"}),(0,B.jsx)(Ve.Z,{children:"Name"}),(0,B.jsx)(Ve.Z,{sx:{textAlign:"center"},children:"Action"})]})}),(0,B.jsxs)(Ie.Z,{children:[(0,B.jsxs)(Le.Z,{children:[(0,B.jsx)(Ve.Z,{sx:{textAlign:"center"},children:"1"}),(0,B.jsx)(Ve.Z,{children:"Form Create Event"}),(0,B.jsx)(Ve.Z,{sx:{textAlign:"center"},children:(0,B.jsx)(F.Z,{onClick:function(){(0,Ae.saveAs)(Te,"FormEvent.xlsx")},variant:"contained",color:"primary",sx:{borderRadius:"40px",backgroundColor:"#393939",text:"#FFF","&:hover":{backgroundColor:"#242424"}},children:"Export"})})]}),(0,B.jsxs)(Le.Z,{children:[(0,B.jsx)(Ve.Z,{sx:{textAlign:"center"},children:"2"}),(0,B.jsx)(Ve.Z,{children:"Holiday by Bank Thailand"}),(0,B.jsx)(Ve.Z,{sx:{textAlign:"center"},children:(0,B.jsx)(F.Z,{onClick:function(){var e=Ce.P6.book_new(),t=Ce.P6.json_to_sheet([]);t["!cols"]=[{width:15},{width:15},{width:20},{width:20},{width:10},{width:15},{width:15},{width:15}],Ce.P6.sheet_add_aoa(t,[["Title","Description","StartDatetime","EndDatetime","Allday","Type"]]),console.log("holiday wop wip wop wip",f);var r=f.map((function(e){return[e.calendar_title,e.dettail,e.start_date,e.end_date,e.all_day,e.calendar_type]}));Ce.P6.sheet_add_json(t,r,{origin:"A2",skipHeader:!0}),Ce.P6.book_append_sheet(e,t,"Report"),(0,Ce.NC)(e,"Thailand Bank Holiday.xlsx")},variant:"contained",color:"primary",sx:{borderRadius:"40px",backgroundColor:"#393939",text:"#FFF","&:hover":{backgroundColor:"#242424"}},children:"Export"})})]})]})]})})})})}),(0,B.jsxs)(D.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",sx:{px:"20px",pb:"20px"},children:[(0,B.jsx)(D.ZP,{item:!0}),(0,B.jsx)(D.ZP,{item:!0,children:(0,B.jsx)(R.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,B.jsx)(F.Z,{variant:"outlined",onClick:t,sx:{mr:1.5,backgroundColor:"transparent",borderColor:"#393939",color:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:"CLOSE"})})})]})]})},ze=r(70246),Ne=r(82138),Ue=r(34632),Ge=r(63243),Oe=r(23195),qe=[{icon:(0,B.jsx)(Ne.Z,{}),name:"Add New Event"},{icon:(0,B.jsx)(Ue.Z,{}),name:"Import"},{icon:(0,B.jsx)(Ge.Z,{}),name:"Export"}],Je=function(){var e=(0,d.Z)((function(e){return e.breakpoints.down("sm")})),t=(0,l.I0)(),r=(0,l.v9)((function(e){return e.calendar})),y=r.calendarView,w=(r.events,r.isModalOpen,r.selectedRange,(0,c.Z)().user),k=(0,a.useState)([]),D=(0,i.Z)(k,2),F=D[0],R=D[1],S=(0,a.useState)(!1),P=(0,i.Z)(S,2),_=P[0],E=P[1],A=(0,a.useState)(!1),T=(0,i.Z)(A,2),M=T[0],H=T[1],L=(0,a.useState)(!1),I=(0,i.Z)(L,2),W=I[0],z=I[1],N=(0,a.useState)(null),U=(0,i.Z)(N,2),G=U[0],O=U[1],q=(0,a.useState)([]),J=(0,i.Z)(q,2),K=J[0],$=J[1],Q=(0,a.useState)([]),X=(0,i.Z)(Q,2),Y=X[0],ee=X[1],te=(0,a.useState)(!1),re=(0,i.Z)(te,2),ne=(re[0],re[1],(0,a.useState)(null)),oe=(0,i.Z)(ne,2);oe[0],oe[1];console.log("user user",w);var ie=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.calendar.getHoliday();case 3:t=e.sent,r=t.data,t.isStatus&&$(r),console.log("data profile",r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.calendar.getHoliday();case 2:t=e.sent,r=t.data,t.isStatus&&(o=le(r),ee(o));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("daydayday",K);var le=function(e){return console.log("run si isus"),e.map((function(e){return{id:e.calendar_id,title:e.calendar_title,detail:e.detail,start:e.start_date,end:e.end_date,color:e.color,textColor:e.text_color,type:e.calendar_type}}))};(0,a.useEffect)((function(){t((0,ue.vw)())}),[t]),(0,a.useEffect)((function(){0===Y.length&&ie().then((function(){var e=le(K);ee(e)})),t((0,ue.vw)())}),[t,Y]),console.log("holiday",K),console.log("holiday",Y);var se=(0,a.useRef)(null);(0,a.useEffect)((function(){var r=se.current;if(r){var n=r.getApi(),o=e?"listWeek":"dayGridMonth";n.changeView(o),t((0,ue.s1)(o))}}),[e]);var ce=(0,a.useState)(new Date),de=(0,i.Z)(ce,2),pe=de[0],xe=de[1],he=function(){var e={start:new Date,end:new Date};console.log("data in create",e),E(!0),R(e)},me=function(){H(!0)},ve=function(){H(!1)},Ce=function(){z(!0)},ge=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.event;try{t((0,ue.eJ)(o.id,{allDay:o.allDay,start:o.start,end:o.end}))}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){E(!1),R(null),O(null),t((0,ue.$J)())};return(0,B.jsxs)("div",{children:[(0,B.jsx)(j.Z,{border:!1,boxShadow:!0,sx:{borderRadius:"10px",pb:"40px"},children:(0,B.jsxs)(u.Z,{sx:{position:"relative"},children:[(0,B.jsxs)(b,{view:y,children:[(0,B.jsx)(V,{date:pe,view:y,onClickNext:function(){var e=se.current;if(e){var t=e.getApi();t.next(),xe(t.getDate())}},onClickPrev:function(){var e=se.current;if(e){var t=e.getApi();t.prev(),xe(t.getDate())}},onClickToday:function(){var e=se.current;if(e){var t=e.getApi();t.today(),xe(t.getDate())}},onChangeView:function(e){var r=se.current;r&&(r.getApi().changeView(e),t((0,ue.s1)(e)))}}),(0,B.jsx)(f.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,fixedWeekCount:!1,eventColor:"color",events:Y,ref:se,allDaySlot:"timeGridWeek"===y,rerenderDelay:10,initialDate:pe,initialView:y,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:function(e){console.log("first elo");var t={start:e.start,end:e.end};console.log("data in create",t),E(!0),R(t)},eventDrop:ge,eventClick:function(e){var t,r=e.event;console.log("clicked",r),r?(t={id:r.id,title:r.title,allDay:r.allDay,start:r.start,end:r.end,color:r.backgroundColor,textColor:r.textColor,description:Y.find((function(e){return e.id===r.id})).detail,type:Y.find((function(e){return e.id===r.id})).type},console.log("data in update",t),E(!0),O(t),console.log("selectedEvents",G)):(console.log("hello is else"),E(!0))},eventResize:ge,height:e?"auto":870,plugins:[v.Z,C.Z,Z.Z,g.Z,m.ZP],views:{timeGridWeek:{titleFormat:{day:"numeric",weekday:"short"}}},businessHours:[{daysOfWeek:[1,2,3,4,5],startTime:"00:00",endTime:"23:59"}]})]}),(0,B.jsx)(p.Z,{maxWidth:"sm",fullWidth:!0,onClose:Ze,open:"super_admin"===(null===w||void 0===w?void 0:w.role)||"admin"===(null===w||void 0===w?void 0:w.role)?_:null,sx:{"& .MuiDialog-paper":{p:0,maxWidth:"1300px",borderRadius:"10px"}},children:_&&("super_admin"===(null===w||void 0===w?void 0:w.role)||"admin"===(null===w||void 0===w?void 0:w.role))&&(0,B.jsx)(fe,{event:G,range:F,onCancel:Ze,closePop:function(){E(!1),R(null),O(null)},refetch:ae})}),(0,B.jsx)(p.Z,{maxWidth:"sm",fullWidth:!0,onClose:ve,open:M,sx:{"& .MuiDialog-paper":{p:0,maxWidth:"800px",borderRadius:"10px"}},children:M&&(0,B.jsx)(Be,{onCancel:ve,refetch:ae})}),(0,B.jsx)(p.Z,{maxWidth:"sm",fullWidth:!0,onClose:ve,open:W,sx:{"& .MuiDialog-paper":{p:0,maxWidth:"800px",borderRadius:"10px"}},children:W&&(0,B.jsx)(We,{onCancel:function(){z(!1)},refetch:ae})})]})}),"super_admin"===(null===w||void 0===w?void 0:w.role)||"admin"===(null===w||void 0===w?void 0:w.role)?(0,B.jsx)(x.Z,{ariaLabel:"add-event-fab",sx:{alignItems:"end",position:"sticky",right:1,bottom:0,zIndex:1,padding:5},icon:(0,B.jsx)(ze.Z,{openIcon:(0,B.jsx)(Oe.Z,{})}),direction:"left",children:qe.map((function(e){return(0,B.jsx)(h.Z,{icon:e.icon,tooltipTitle:e.name,onClick:function(){return function(e){"Import"===e.name?me():"Export"===e.name?Ce():"Add New Event"===e.name?he():console.log("error ja")}(e)}},e.name)}))}):null]})}},20067:function(){}}]);