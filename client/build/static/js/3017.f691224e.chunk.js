"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[3017],{75761:function(e,r,t){var n=t(1413),o=t(29439),i=t(47313),s=t(19860),a=t(17551),l=t(61689),c=(t(57829),t(42832)),d=t(70501),u=t(49914),p=t(31095),f=t(1550),m=t(23931),h=t(51405),x=t(66835),v=t(23477),g=t(24076),Z=t(67478),b=t(57861),_=t(94044),S=t(10259),j=t(1309),y=t(45110),C=t(35397),w=t(7519),k=(t(67440),t(5186),t(40765)),P=t(46417);r.Z=function(e){var r=e.columns,t=e.data,B=e.getHeaderProps,R=e.renderRowSubComponent,H=e.handleAdd,F=e.nameCreateButton,D=e.sortColumn,U=e.isExpand,E=e.expandPage,T=(e.permission,(0,s.Z)()),A=(0,i.useMemo)((function(){return C.KR}),[]),N={id:D,desc:!1},G=(0,y.useTable)({columns:r,data:t,filterTypes:A,initialState:{pageIndex:0,pageSize:10,hiddenColumns:r.filter((function(e){return e.hidden})).map((function(e){return e.accessor})),sortBy:[N]}},y.useGlobalFilter,y.useFilters,y.useSortBy,y.useExpanded,y.usePagination,y.useRowSelect),I=G.getTableProps,q=G.getTableBodyProps,z=G.headerGroups,M=G.prepareRow,W=(G.setHiddenColumns,G.allColumns,G.visibleColumns),O=(G.getToggleAllPageRowsSelectedProps,G.rows),V=G.page,K=G.gotoPage,L=G.setPageSize,Y=G.state,J=(Y.globalFilter,Y.selectedRowIds),Q=Y.pageIndex,X=Y.pageSize,$=G.preGlobalFilteredRows,ee=G.setGlobalFilter,re=G.setSortBy,te=(0,i.useState)({}),ne=(0,o.Z)(te,2),oe=(ne[0],ne[1],(0,i.useState)("")),ie=(0,o.Z)(oe,2),se=ie[0],ae=ie[1],le=$.length,ce=(0,i.useState)(1),de=(0,o.Z)(ce,2),ue=de[0],pe=de[1];return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{children:[(0,P.jsx)(w.c,{selected:Object.keys(J).length}),(0,P.jsxs)(c.Z,{spacing:2,children:[(0,P.jsx)(d.Z,{variant:"outlined",sx:{py:1,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid #ccc",borderRadius:"10px"},children:(0,P.jsxs)("div",{style:{display:"flex",padding:"5px 10px 5px 10px",alignItems:"center"},children:[(0,P.jsx)(u.Z,{id:"start-adornment-email",placeholder:"Type something (".concat(le," Records)"),startAdornment:(0,P.jsx)(k.Z,{}),fullWidth:!0,value:se,onChange:function(e){return ae(e.target.value)},sx:{borderRadius:20,backgroundColor:"#F3F4F6"}}),(0,P.jsxs)(p.Z,{variant:"contained",sx:{width:"150px",margin:"5px",borderRadius:"40px",height:"37px",backgroundColor:"#232323","&::after":{boxShadow:"0 0 5px 5px rgba(0, 0, 0, 0.9)",borderRadius:"40px"},"&:hover":{backgroundColor:"#686868 !important"}},onClick:function(){ee(se)},children:[(0,P.jsx)(S.G,{icon:j.wn1,style:{fontSize:"15px"}}),"Search"]}),(0,P.jsx)(_.Z,{shape:"rounded",variant:"contained",style:{margin:"5px",backgroundColor:"#232323"},onClick:function(){ee(""),ae("")},sx:{"&:hover":{backgroundColor:"#686868 !important"}},children:(0,P.jsx)(S.G,{icon:j.jHE})})]})}),(0,P.jsx)(d.Z,{variant:"outlined",sx:{py:1,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid #ccc",borderRadius:"10px"},children:(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,P.jsx)("div",{style:{marginRight:"5px"},children:(0,P.jsx)(f.Z,{sx:{minWidth:120},children:(0,P.jsxs)(m.Z,{displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:{borderRadius:"40px",width:"300px",backgroundColor:"#F3F4F6",padding:"0 0 0 10px","&:hover":{borderColor:"#686868 !important",color:"#686868"}},value:ue,onChange:function(e){pe(e.target.value),1===e.target.value?re([{id:D,desc:!1}]):re([{id:D,desc:!0}])},children:[(0,P.jsx)(h.Z,{value:1,children:"Sort by the oldest"}),(0,P.jsx)(h.Z,{value:2,children:"Sort by the newest"})]})})}),(0,P.jsx)("div",{style:{display:"flex",padding:"5px 7px 5px 7px",alignItems:"center"},children:(0,P.jsxs)(p.Z,{onClick:H,variant:"outlined",sx:{width:"150px",marginRight:"10px",height:"auto",borderRadius:"40px",borderColor:"#232323",color:"#232323","&:hover":{borderColor:"#686868 !important",color:"#686868"}},children:["+ ",F]})})]})}),U?(0,P.jsx)(d.Z,{variant:"outlined",sx:{py:1,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid #ccc",borderRadius:"10px",pt:"14px"},children:E}):null,(0,P.jsx)("div",{style:{borderRadius:"10px",overflow:"hidden",backgroundColor:"#ffffff"},children:(0,P.jsxs)(x.Z,(0,n.Z)((0,n.Z)({},I()),{},{children:[(0,P.jsx)(v.Z,{style:{backgroundColor:"#E0E0E0"},children:z.map((function(e,r){return(0,P.jsx)(g.Z,(0,n.Z)((0,n.Z)({},e.getHeaderGroupProps()),{},{sx:{"& > th:first-of-type":{width:"58px"}},children:e.headers.map((function(e,r){return(0,P.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},e.getHeaderProps([{className:e.className},B(e)])),{},{sx:{width:e.width||"auto",":not(:last-of-type)::after":{position:"inherit "}},children:(0,P.jsx)(w.RL,{column:e})}),r)}))}),r)}))}),(0,P.jsxs)(b.Z,(0,n.Z)((0,n.Z)({},q()),{},{children:[V.map((function(e,r){M(e);var t=e.getRowProps();return(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(g.Z,(0,n.Z)((0,n.Z)({},e.getRowProps()),{},{onClick:function(){e.toggleRowSelected()},sx:{cursor:"pointer",bgcolor:e.isSelected?(0,a.Fq)(T.palette.primary.lighter,.35):"inherit"},children:e.cells.map((function(r,t){return(0,P.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},r.getCellProps([{className:r.column.className}])),{},{children:(0,P.jsx)(l.Z,{title:0===t||t===e.cells.length-1?null:r.render("Cell"),arrow:!0,children:(0,P.jsx)("span",{children:r.column.truncate&&r.value.length>r.column.truncate?"".concat(r.value.slice(0,r.column.truncate),"..."):r.render("Cell")})})}),t)}))})),e.isExpanded&&(0,P.jsx)(Z.Z,{colSpan:9,sx:{height:"100%",width:"100%"},children:R({row:e,rowProps:t,visibleColumns:W})})]},r)})),(0,P.jsx)(g.Z,{sx:{"&:hover":{bgcolor:"transparent !important"}},children:(0,P.jsx)(Z.Z,{sx:{p:2,py:3},colSpan:9,children:(0,P.jsx)(w.bG,{gotoPage:K,rows:O,setPageSize:L,pageSize:X,pageIndex:Q})})})]}))]}))})]})]})})}},83017:function(e,r,t){t.r(r),t.d(r,{default:function(){return te}});var n=t(1413),o=t(74165),i=t(15861),s=t(29439),a=t(47313),l=t(94469),c=t(75761),d=t(73842),u=t(84897),p=(t(40750),t(70816)),f=t.n(p),m=function(e){var r=e,t=(0,a.useMemo)((function(){var e=[];return r&&r.forEach((function(t,n){if(r.length>0)if(console.log("data person",t),t.Profiles.length>1){var o,i,s,a,l,c,d,u,p,f=null===(o=t.Profiles)||void 0===o?void 0:o.map((function(e){return e.User.user_id})),m=null===(i=t.Profiles)||void 0===i?void 0:i.map((function(e){return e.User.nick_name})),h=null===(s=t.Profiles)||void 0===s?void 0:s.map((function(e){return e.User.username})),x=null===(a=t.Profiles)||void 0===a?void 0:a.map((function(e){return e.User.starting_working_date})),v=null===(l=t.Profiles)||void 0===l?void 0:l.map((function(e){return e.created_date})),g=null===(c=t.Profiles)||void 0===c?void 0:c.map((function(e){return e.role})),Z=null===(d=t.Profiles)||void 0===d?void 0:d.map((function(e){return e.User.first_name})),b=null===(u=t.Profiles)||void 0===u?void 0:u.map((function(e){return e.User.last_name})),_=null===(p=t.Profiles)||void 0===p?void 0:p.map((function(e){return e.User.user_id})),S={group_id:t.group_id,group_code:t.group_code,group_name:t.group_name,created_date:t.created_date,is_all:t.is_all,user_id:_,profile_id:f,profile_firstname:Z,profile_lastname:b,profile_nickname:m,profile_email:h,profile_startworkdate:x,is_disabled:!0,profile_role:g,profile_date:v};e.push(S)}else{var j,y,C,w,k,P,B,R,H,F,D,U,E,T,A=t.Projects.length>=1||t.Profiles.length>=1,N={group_id:t.group_id,group_code:t.group_code,group_name:t.group_name,created_date:t.created_date,is_all:t.is_all,profile_id:null===(j=t.Profiles)||void 0===j||null===(y=j.User)||void 0===y?void 0:y.user_id,profile_firstname:null===(C=t.Profiles)||void 0===C||null===(w=C.User)||void 0===w?void 0:w.first_name,profile_lastname:null===(k=t.Profiles)||void 0===k||null===(P=k.User)||void 0===P?void 0:P.last_name,profile_nickname:null===(B=t.Profiles)||void 0===B||null===(R=B.User)||void 0===R?void 0:R.nick_name,profile_email:null===(H=t.Profiles)||void 0===H||null===(F=H.User)||void 0===F?void 0:F.username,profile_startworkdate:null===(D=t.Profiles)||void 0===D||null===(U=D.User)||void 0===U?void 0:U.starting_working_date,profile_role:null===(E=t.Profiles)||void 0===E?void 0:E.role,profile_date:null===(T=t.Profiles)||void 0===T?void 0:T.created_date,is_disabled:A};e.push(N)}})),e}),[r]).slice().sort((function(e,r){return new Date(e.created_date)-new Date(r.created_date)}));return t.forEach((function(e,r){e.autoNumber=r+1})),t},h=t(51997),x=t(65954),v=t(42832),g=t(61689),Z=t(25002),b=t(51405),_=t(74748),S=t(83213),j=t(94044),y=t(38443),C=t(43997),w=t(46417),k=function(e,r,t){return[{Header:"No.",accessor:"autoNumber",disableSortBy:!0,className:"cell-right"},{Header:"GroupId",accessor:"group_id",disableSortBy:!0,hidden:!0},{Header:"Group Code",accessor:"group_code",disableSortBy:!0,width:"20%"},{Header:"Group Name",accessor:"group_name",disableSortBy:!0,width:"70%"},{Header:"Group Date",accessor:"created_date",disableSortBy:!0,hidden:!0},{Header:"Group status",accessor:"is_all",disableSortBy:!0,hidden:!0},{Header:"User id",accessor:"user_id",disableSortBy:!0,hidden:!0},{Header:"Profile id",accessor:"profile_id",disableSortBy:!0,hidden:!0},{Header:"Profile Firstname",accessor:"profile_firstname",disableSortBy:!0,hidden:!0},{Header:"Profile Lastname",accessor:"profile_lastname",disableSortBy:!0,hidden:!0},{Header:"Profile Nickname",accessor:"profile_nickname",disableSortBy:!0,hidden:!0},{Header:"Profile Email",accessor:"profile_email",disableSortBy:!0,hidden:!0},{Header:"have data",accessor:"is_disabled",disableSortBy:!0,hidden:!0},{Header:"Profile startwork",accessor:"profile_startworkdate",disableSortBy:!0,hidden:!0},{Header:"Profile Role",accessor:"profile_role",disableSortBy:!0,hidden:!0},{Header:"Profile Date",accessor:"profile_date",disableSortBy:!0,hidden:!0},{Header:"Actions",className:"cell-center",width:"15%",disableSortBy:!0,Cell:function(n){var o=n.row,i=o.values,l=(o.isExpanded,o.toggleRowExpanded,(0,a.useState)(null)),c=(0,s.Z)(l,2),d=c[0],u=c[1];return(0,w.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,w.jsx)(g.Z,{title:"See More",children:(0,w.jsx)(j.Z,{color:"secondary",onClick:function(e){u(e.currentTarget)},children:(0,w.jsx)(C.Z,{})})}),(0,w.jsxs)(Z.ZP,{open:Boolean(d),anchorEl:d,onClose:function(){u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,w.jsxs)(b.Z,{onClick:function(t){t.stopPropagation(),r(i),e(i)},children:[(0,w.jsx)(_.Z,{children:(0,w.jsx)(x.Z,{fontSize:"small",sx:{color:"#0066FF"}})}),(0,w.jsx)(S.Z,{primary:"Edit"})]}),(0,w.jsxs)(b.Z,{disabled:i.is_disabled,onClick:function(){t(i)},children:[(0,w.jsx)(_.Z,{children:(0,w.jsx)(h.Z,{fontSize:"small",sx:{color:"#ED4040"}})}),(0,w.jsx)(S.Z,{primary:"Delete"})]})]}),(0,w.jsx)(y.Z,{row:o})]})}}]},P=t(67114),B=t.n(P),R=t(19860),H=t(84999),F=function(e){var r=(0,a.useState)([]),t=(0,s.Z)(r,2),n=t[0],o=t[1];return(0,a.useEffect)((function(){o(e)}),[e]),(0,a.useMemo)((function(){var e=[];if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var t=n[r];if(Array.isArray(t.profile_id))if(t.profile_id.length>0)for(var o=0;o<t.profile_id.length;o++){var i=t.profile_firstname[o]&&t.profile_lastname[o]?"".concat(t.profile_firstname[o]," ").concat(t.profile_lastname[o]):null,s=f()(t.profile_startworkdate[o]).format("DD/MM/YYYY"),a={no:t.profile_id.length-o,profile_id:t.profile_id[o],profile_name:i,profile_nickname:t.profile_nickname[o],profile_email:t.profile_email[o],profile_startworkdate:s,profile_role:t.profile_role[o],profile_date:t.profile_date[o]};e.push(a)}else{var l={no:t.profile_id.length,profile_id:t.profile_id,profile_name:fullname,profile_nickname:t.profile_nickname,profile_email:t.profile_email,profile_startworkdate:formattedStartDate,profile_role:t.profile_role,profile_date:t.profile_date};e.push(l)}}return e}),[n])},D=(t(30686).useTheme,function(e,r,t,n,o,i){return[{Header:"no",accessor:"no",disableSortBy:!0,className:"cell-right"},{Header:"id",accessor:"profile_id",disableSortBy:!0,hidden:!0},{Header:"Full name",accessor:"profile_name",disableSortBy:!0,Cell:function(e){var r=e.value;return null===r?(0,w.jsx)("span",{style:{color:"#FBC756"},children:"Pending"}):r}},{Header:"Nick Name",accessor:"profile_nickname",disableSortBy:!0,Cell:function(e){var r=e.value;return null===r?(0,w.jsx)("span",{style:{color:"#FBC756"},children:"Pending"}):r}},{Header:"Email",accessor:"profile_email",disableSortBy:!0},{Header:"create",accessor:"profile_date",disableSortBy:!0,hidden:!0},{Header:"starting working date",accessor:"profile_startworkdate",disableSortBy:!0},{Header:"Role",accessor:"profile_role",disableSortBy:!0}]}),U=function(e){(0,R.Z)();var r=F(e),t=(0,a.useState)(null),n=(0,s.Z)(t,2),o=n[0],i=n[1],l=(0,a.useState)(!1),c=(0,s.Z)(l,2),u=c[0],p=c[1],f=(0,a.useState)(null),m=(0,s.Z)(f,2),h=m[0],x=m[1],v=function(){p(!u),o&&u&&i(null)},g=D(v,i,(function(e){i(null),p(!1),x(e)}),h);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{style:{width:"100%",border:"1px solid #ccc",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:(0,w.jsx)(d.Z,{children:(0,w.jsx)(H.Z,{columns:g,data:r,handleAdd:v,getHeaderProps:function(e){return e.getSortByToggleProps()}})})})})},E=(t(93433),t(56352)),T=t(7410),A=t(3463),N=t(96467),G=t(9019),I=t(15103),q=t(49914),z=t(15480),M=t(76088),W=t(66212),O=t(24631),V=t(83929),K=t(70024),L=t(4117),Y=t(31095),J=t(16031),Q=t.n(J),X=t(18530),$=t(58467),ee=function(e){if(e){var r={id:null===e||void 0===e?void 0:e.group_id,name:null===e||void 0===e?void 0:e.group_name,code:null===e||void 0===e?void 0:e.group_code,status:null===e||void 0===e?void 0:e.is_all,userSelect:null===e||void 0===e?void 0:e.user_id};return Q().merge({},r,e)}return{id:"",name:"",code:"",positionSelect:"",departmentSelect:"",status:!1,userSelect:[]}},re=function(e){var r,t=e.customer,l=(e.open,e.onCancel),c=e.namePage,d=(e.status,e.fetchDepartment),p=((0,R.Z)(),(0,E.I0)()),f=!!t,m=((0,$.TH)(),(0,a.useState)([])),h=(0,s.Z)(m,2),x=(h[0],h[1],(0,a.useState)("")),v=(0,s.Z)(x,2),g=(v[0],v[1],(0,$.s0)(),(0,a.useState)(void 0)),Z=(0,s.Z)(g,2),b=(Z[0],Z[1],(0,a.useState)([])),_=(0,s.Z)(b,2),S=(_[0],_[1]),j=(0,a.useState)([]),y=(0,s.Z)(j,2),C=(y[0],y[1]),k=(0,a.useState)([]),P=(0,s.Z)(k,2),H=P[0],F=P[1],D=(0,a.useState)([]),U=(0,s.Z)(D,2),J=(U[0],U[1],function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.setting.fetchUser();case 3:r=e.sent,t=r.data,r.isStatus&&F(t.map((function(e){return e.User}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()),Q=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.company.getPosition();case 3:r=e.sent,t=r.data,r.isStatus&&S(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.company.getDepartment();case 3:r=e.sent,t=r.data,r.isStatus&&C(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){Q(),re(),J()}),[]);var te="department"===c?A.Ry().shape({code:A.Z_().max(255).required("".concat(c.charAt(0).toUpperCase()+c.slice(1)," Code is required")),name:A.Z_().max(255).required("".concat(c.charAt(0).toUpperCase()+c.slice(1)," Name is required"))}):"position"===c?A.Ry().shape({code:A.Z_().max(255).required("".concat(c.charAt(0).toUpperCase()+c.slice(1)," Code is required")),name:A.Z_().max(255).required("".concat(c.charAt(0).toUpperCase()+c.slice(1)," Name is required")),departmentSelect:A.Z_().max(255).required("Department select is required")}):"group"===c?A.Ry().shape({code:A.Z_().max(255).required("".concat(c.charAt(0).toUpperCase()+c.slice(1)," Code is required")),name:A.Z_().max(255).required("".concat(c.charAt(0).toUpperCase()+c.slice(1)," Name is required"))}):null,ne=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le.values.name||!le.values.code){e.next=19;break}if(e.prev=1,!f){e.next=8;break}return e.next=5,se(le.values);case 5:B().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'}),e.next=11;break;case 8:return e.next=10,oe();case 10:B().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),p((0,X.ss)({open:!0,message:"Error updating project.",variant:"alert",alert:{color:"error"}}));case 17:e.next=20;break;case 19:p((0,X.ss)({open:!0,message:"Please correct the errors in the form.",variant:"alert",alert:{color:"error"}}));case 20:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(r){return e.apply(this,arguments)}}();function oe(){return ie.apply(this,arguments)}function ie(){return(ie=(0,i.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:le.values.name,code:le.values.code,user_id:le.values.userSelect,status:le.values.status},e.next=3,u.Z.created.createGroup(r);case 3:e.sent,d(),l();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,i.Z)((0,o.Z)().mark((function e(r){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.group_id,code:le.values.code,user_id:le.values.userSelect||t.user_id,name:le.values.name,status:le.values.status},e.next=3,u.Z.company.updateGroup(n);case 3:e.sent,d(),l();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=(0,T.TA)({initialValues:ee(t),validationSchema:te,onSubmit:ne}),ce=le.errors,de=le.touched,ue=le.getFieldProps,pe=le.handleSubmit;console.log(le.values);return(0,w.jsx)("div",{children:(0,w.jsxs)("form",{onSubmit:pe,children:[(0,w.jsx)(N.Z,{sx:{mx:3},children:(0,w.jsxs)(G.ZP,{container:!0,spacing:2,children:[(0,w.jsxs)(G.ZP,{item:!0,xs:12,sm:6,children:[(0,w.jsxs)(I.Z,{htmlFor:"code",children:[c.charAt(0).toUpperCase()+c.slice(1)," Code",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(q.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,rows:4,placeholder:"".concat(c.charAt(0).toUpperCase()+c.slice(1)," Code"),value:le.values.code},ue("code")),{},{error:Boolean(de.code&&ce.code),helperText:de.code&&ce.code,sx:{borderRadius:40,mt:"4px"}})),(0,w.jsx)(z.Z,{sx:{color:"red"},children:de.code&&ce.code})]}),(0,w.jsxs)(G.ZP,{item:!0,xs:12,sm:6,children:[(0,w.jsxs)(I.Z,{htmlFor:"project",children:[c.charAt(0).toUpperCase()+c.slice(1)," Name",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(q.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,rows:4,placeholder:"".concat(c.charAt(0).toUpperCase()+c.slice(1)," Name"),value:le.values.name},ue("name")),{},{error:Boolean(de.name&&ce.name),helperText:de.name&&ce.name,sx:{borderRadius:40,mt:"4px"}})),(0,w.jsx)(z.Z,{sx:{color:"red"},children:de.name&&ce.name})]}),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(G.ZP,{item:!0,xs:12,children:[(0,w.jsxs)(I.Z,{htmlFor:"user",children:[" ","group"===c?"Member":null]}),(0,w.jsx)(M.Z,{id:"outlined",multiple:!0,options:H,getOptionLabel:function(e){return e.nick_name?e.nick_name:e.username||""},value:null===(r=le.values.userSelect)||void 0===r?void 0:r.map((function(e){return H.find((function(r){return r.user_id===e}))})),onChange:function(e,r){if(null!==r){var t=r.map((function(e){return e.user_id}));console.log("newValue",t),le.setFieldValue("userSelect",t)}else le.setFieldValue("userSelect",[])},fullWidth:!0,margin:"normal",error:Boolean(de.userSelect&&ce.userSelect),renderTags:function(e,r){return e.map((function(e,t){return(0,w.jsx)(W.Z,(0,n.Z)((0,n.Z)({label:(null===e||void 0===e?void 0:e.nick_name)||(null===e||void 0===e?void 0:e.username)||""},r({index:t})),{},{sx:{borderRadius:"40px",p:"4px 14px"}}),null===e||void 0===e?void 0:e.user_id)}))},renderInput:function(e){var r;return(0,w.jsx)(O.Z,(0,n.Z)((0,n.Z)({placeholder:(null===(r=le.values.userSelect)||void 0===r?void 0:r.length)>0?"":"Select Member"},e),{},{InputProps:(0,n.Z)((0,n.Z)({},e.InputProps),{},{style:{borderRadius:"30px "}})}))}})]})}),(0,w.jsx)(G.ZP,{item:!0,xs:12,sm:6,children:(0,w.jsx)(V.Z,{control:(0,w.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,w.jsx)(K.Z,{checked:le.values.status,onChange:function(e){var r=e.target.checked;console.log("isChecked",r),le.setFieldValue("status",r)},color:"success"}),(0,w.jsx)("span",{style:{marginLeft:"8px"},children:"Is All"})]})})})]})}),(0,w.jsxs)(L.Z,{sx:{pr:2.5},children:[(0,w.jsx)(Y.Z,{variant:"outlined",onClick:function(){f?le.values.name&&le.values.code&&le.values.userSelect?le.values.name!==t.name||le.values.code!==t.code?B().fire({title:"Discard",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Keep editing",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(le.resetForm(),l()):(e.dismiss,B().DismissReason.cancel)})):(le.resetForm(),l()):B().fire({title:"Discard",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Keep editing",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(le.resetForm(),l()):(e.dismiss,B().DismissReason.cancel)})):le.values.name||le.values.code||le.values.userSelect?B().fire({title:"Discard",text:"if you discard the change, this process will not be able to be undone.",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirm",cancelButtonText:"Keep editing",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="discard-icon"></div>'}).then((function(e){e.isConfirmed?(le.resetForm(),l()):(e.dismiss,B().DismissReason.cancel)})):(le.resetForm(),l())},sx:{mr:1.5,backgroundColor:"transparent",borderColor:"#393939",color:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#D2D2D2",borderColor:"#393939",color:"#393939"}},children:"Cancel"}),(0,w.jsx)(Y.Z,{variant:"contained",type:"submit",sx:{backgroundColor:"#393939",borderRadius:"40px",width:"170px",height:"40px","&:hover":{backgroundColor:"#242424"}},children:"Save"})]})]})})},te=function(){var e=(0,a.useState)(null),r=(0,s.Z)(e,2),t=r[0],p=r[1],f=(0,a.useState)(!1),h=(0,s.Z)(f,2),x=h[0],v=h[1],g=(0,a.useState)(!1),Z=(0,s.Z)(g,2),b=Z[0],_=(Z[1],(0,a.useState)([])),S=(0,s.Z)(_,2),j=S[0],y=S[1],C=m(j),P=(0,a.useState)(""),R=(0,s.Z)(P,2),H=R[0],F=R[1],D=(0,a.useState)(!1),E=(0,s.Z)(D,2),T=E[0],A=E[1],N=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.company.getGroup();case 3:r=e.sent,t=r.data,r.isStatus&&y(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){N()}),[]);var G=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(""),v(!x),null!==r&&void 0!==r&&r.group_id?F("edit"):(F("add"),p(null)),A(!T),t&&"add"===H&&p(null),N();case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),I=k(G,p,(function(e){N(),B().fire({title:"Delete",text:"if you delete the information, this process will not be able to be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0066FF",cancelButtonColor:"#0066FF",reverseButtons:!0,confirmButtonText:"Confirm",customClass:{confirmButton:"confirm-rounded-button",cancelButton:"outlined-button"},iconHtml:'<div class="delete-icon"></div>'}).then((function(r){if(r.isConfirmed){N();u.Z.company.deleteGroup(e).then((function(){N(),B().fire({title:"Success",timer:2e3,customClass:"modal-success",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'})}))}}))})),q=(0,a.useCallback)((function(e){var r=e.row;return(0,w.jsx)(U,{DatafromIndex:C[r.id]})}),[C]),z=(0,w.jsx)(re,{open:x,customer:t,onCancel:G,namePage:"group",status:H,fetchDepartment:N}),M={columns:I,data:C,renderRowSubComponent:q,getHeaderProps:function(e){return e.getSortByToggleProps()},nameCreateButton:"Add Group",handleAdd:function(){return G()},handleDelete:function(e){function r(){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((function(){return handleDelete()})),sortColumn:"created_date",isExpand:T,expandPage:z};return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{children:[(0,w.jsx)(d.Z,{children:(0,w.jsx)(c.Z,(0,n.Z)({},M))}),(0,w.jsx)(l.Z,{maxWidth:"lg",fullWidth:!0,open:b,PaperProps:{sx:{borderRadius:"10px"}}})]})})}}}]);