"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[5223],{90186:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(29439),s=r(2135),i=r(38743),a=r(15862),o=r(19860),c=r(46417),l=function(e){e.reverse,(0,o.Z)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("img",{src:a,alt:"Mantis",width:"200px"})})},d=r(36287),u=r(30078),h=r(80771),x=function(e){e.reverse,e.isIcon;var n=e.sx,r=e.to,a=(0,u.FV)(h.zV),o=(0,t.Z)(a,2),x=(o[0],o[1],d.ZP.defaultPath);return(0,c.jsx)(i.Z,{disableRipple:!0,component:s.rU,to:r||x,sx:n,children:(0,c.jsx)(l,{})})}},22889:function(e,n,r){var t=r(47313);n.Z=function(){var e=(0,t.useRef)(!0);return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),e}},65482:function(e,n,r){r.r(n),r.d(n,{default:function(){return V}});var t=r(74165),s=r(15861),i=r(29439),a=r(9019),o=r(42832),c=r(61113),l=r(58467),d=r(47313),u=r(84897),h=(r(41412),r(262)),x=r(56352),m=r(15103),p=r(49914),f=r(41727),Z=r(15480),v=r(57829),w=r(31095),g=r(3463),b=r(7410),j=r(54285),P=r(22889),y=r(94044),k=r(51404),C=r(2419),E=(r(18530),r(31741)),S=r(44874),z=r(58711),R=r(2135),F=r(67114),A=r.n(F),L=r(46417),I=function(e){var n=(0,P.Z)(),r=((0,x.I0)(),(0,l.s0)());console.log("token",e);(0,j.Z)().isLoggedIn;var c=(0,d.useState)(),h=(0,i.Z)(c,2),F=(h[0],h[1]),I=(0,d.useState)(!1),M=(0,i.Z)(I,2),V=M[0],B=M[1],H=(0,d.useState)(!1),T=(0,i.Z)(H,2),_=T[0],q=T[1],N=(0,d.useState)(!1),W=(0,i.Z)(N,2),D=(W[0],W[1],function(){B(!V)}),U=function(){q(!_)},O=function(e){e.preventDefault()},G=function(e){var n=(0,C.X)(e);F((0,C.V)(n))},Q=function(e){var n=(0,C.X)(e);F((0,C.V)(n))};(0,d.useEffect)((function(){G(""),Q("")}),[]);return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(b.J9,{initialValues:{password:"",confirmPassword:"",submit:null},validationSchema:g.Ry().shape({password:g.Z_().max(255).min(8,"Password must contain english letters and numbers. At least 8 Charaters, 1 uppercase letter, 1 number and 1 special characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^a-zA-Z0-9])/,"Password must contain english letters, numbers and special characters").required("Password is required").matches(/[A-Z]/,"Password must contain at least 1 uppercase letter").matches(/\d/,"Password must contain at least 1 number"),confirmPassword:g.Z_().required("Confirm Password is required").when("password",{is:function(e){return!!(e&&e.length>0)},then:g.Z_().oneOf([g.iH("password")],"Confirm password must be exactly the same with the new password")})}),onSubmit:function(){var i=(0,s.Z)((0,t.Z)().mark((function s(i,a){var o,c,l,d;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.setErrors,c=a.setStatus,l=a.setSubmitting,t.prev=1,i.password){t.next=5;break}return o(!0),t.abrupt("return");case 5:return d={password:i.password,token:e},t.prev=6,console.log("newData",d),t.next=10,u.Z.login.resetPassword(d);case 10:t.sent,A().fire({title:"Success",timer:2e3,customClass:"modal-success",text:"Your password has been successfully reset",showConfirmButton:!1,iconHtml:'<div class="success-icon"></div>'}).then((function(e){e.isConfirmed})),r("/login",{replace:!0}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),console.error(t.t0),A().fire("Fail to reset password","Please try agains","error");case 19:t.next=25;break;case 21:t.prev=21,t.t1=t.catch(1),console.error(t.t1),n.current&&(window.location.reload(),c({success:!1}),o({submit:t.t1.message}),l(!1));case 25:case"end":return t.stop()}}),s,null,[[1,21],[6,15]])})));return function(e,n){return i.apply(this,arguments)}}(),children:function(e){var n=e.errors,r=e.handleBlur,t=e.handleChange,s=e.handleSubmit,i=e.isSubmitting,c=e.touched,l=e.values;return(0,L.jsx)("form",{noValidate:!0,onSubmit:s,children:(0,L.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,L.jsxs)(a.ZP,{item:!0,container:!0,spacing:3,xs:12,children:[(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsxs)(o.Z,{spacing:1.25,children:[(0,L.jsx)(m.Z,{htmlFor:"password-reset",children:"New Password"}),(0,L.jsx)(p.Z,{fullWidth:!0,error:Boolean(c.password&&n.password),id:"password-reset",type:V?"text":"password",value:l.password,name:"password",onBlur:r,sx:{borderRadius:"30px",backgroundColor:"#F3F4F6"},onChange:function(e){t(e),G(e.target.value)},startAdornment:(0,L.jsx)(f.Z,{position:"start",children:(0,L.jsx)(y.Z,{"aria-label":"toggle password visibility",edge:"end",color:"secondary",disabled:!0,children:(0,L.jsx)(z.Z,{})})}),endAdornment:(0,L.jsx)(f.Z,{position:"end",children:(0,L.jsx)(y.Z,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:O,edge:"end",color:"secondary",children:V?(0,L.jsx)(E.Z,{}):(0,L.jsx)(S.Z,{})})}),placeholder:"Enter password"}),c.password&&n.password&&(0,L.jsx)(Z.Z,{error:!0,id:"helper-text-password-reset",children:n.password}),!n.password&&!c.password&&(0,L.jsx)(Z.Z,{id:"helper-text-password",children:"Password must contain english letters and numbers. At least 8 Charaters, 1 uppercase letter, 1 number and 1 special characters"})]})}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsxs)(o.Z,{spacing:1.25,children:[(0,L.jsx)(m.Z,{htmlFor:"confirm-password-reset",children:"Confirm Password"}),(0,L.jsx)(p.Z,{fullWidth:!0,error:Boolean(c.confirmPassword&&n.confirmPassword),id:"confirm-password-reset",type:_?"text":"password",value:l.confirmPassword,name:"confirmPassword",sx:{borderRadius:"30px",backgroundColor:"#F3F4F6"},onBlur:r,onChange:function(e){t(e),Q(e.target.value)},startAdornment:(0,L.jsx)(f.Z,{position:"start",children:(0,L.jsx)(y.Z,{"aria-label":"toggle password visibility",edge:"end",color:"secondary",disabled:!0,children:(0,L.jsx)(z.Z,{})})}),endAdornment:(0,L.jsx)(f.Z,{position:"end",children:(0,L.jsx)(y.Z,{"aria-label":"toggle password visibility",onClick:U,onMouseDown:O,edge:"end",color:"secondary",children:_?(0,L.jsx)(E.Z,{}):(0,L.jsx)(S.Z,{})})}),placeholder:"Enter confirm password"}),c.confirmPassword&&n.confirmPassword&&(0,L.jsx)(Z.Z,{error:!0,id:"helper-text-confirm-password-reset",children:n.confirmPassword}),!n.confirmPassword&&!c.confirmPassword&&(0,L.jsx)(Z.Z,{id:"helper-text-password",children:"The confirm password must be exactly the same with the new password"})]})})]}),n.submit&&(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(Z.Z,{error:!0,children:n.submit})}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsxs)(v.Z,{display:"flex",justifyContent:"space-between",children:[(0,L.jsx)(a.ZP,{item:!0,xs:6,sm:5.8,children:(0,L.jsx)(k.Z,{children:(0,L.jsx)(w.Z,{disableElevation:!0,component:R.rU,to:"/login",fullWidth:!0,type:"back",variant:"outlined",sx:{textDecoration:"none",borderRadius:"30px",borderColor:"#393939",color:"#393939",height:"48px","&:hover":{borderColor:"#393939",color:"#393939"}},children:"Cancel"})})}),(0,L.jsx)(a.ZP,{item:!0,xs:6,sm:5.8,children:(0,L.jsx)(k.Z,{children:(0,L.jsx)(w.Z,{disableElevation:!0,disabled:i,fullWidth:!0,type:"submit",variant:"contained",sx:{borderRadius:"30px",bgcolor:"#393939",color:"#FFFFFF",height:"48px","&:hover":{bgcolor:"#393939"}},children:"Reset Password"})})})]})})]})})}})})},M=r(90186),V=function(){var e=(0,l.UO)().token,n=(0,d.useState)(null),r=(0,i.Z)(n,2),x=r[0],m=r[1];(0,d.useEffect)((function(){var n=function(){var n=(0,s.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.Z.login.userActivate({token:e});case 3:r=n.sent,console.log(r),m(r),console.log(x),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var p=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:checkVerificationToken();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsx)(h.Z,{children:x&&(0,L.jsx)(a.ZP,{container:!0,children:x.success?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsxs)(o.Z,{direction:"column",alignItems:"center",sx:{mb:{xs:-.5,sm:.5}},children:[(0,L.jsx)(M.Z,{}),(0,L.jsx)(c.Z,{variant:"h3",sx:{textAlign:"center",fontWeight:500,mt:2},children:"Reset Password"})]})}),(0,L.jsx)(a.ZP,{title:"Change Password",children:(0,L.jsx)(I,{token:e,refresh:p})})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(c.Z,{variant:"h3",children:"Token invalid or undefined"}),(0,L.jsx)(c.Z,{color:"secondary",children:"Please Try agains next time"})]})})})}},262:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(57829),s=r(9019),i=r(61113),a=r(46417),o=(r(67894),r(36287),r(30078),r(80771),r(1413)),c=r(45987),l=r(19860),d=r(41412),u=["children"],h=function(e){var n=e.children,r=(0,c.Z)(e,u),s=(0,l.Z)();return(0,a.jsx)(d.Z,(0,o.Z)((0,o.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},borderRadius:"10px",border:"1px solid #232323","& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},r),{},{border:!1,boxShadow:!0,shadow:s.customShadows.z1,children:(0,a.jsx)(t.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:n})}))},x=(r(36089),r.p+"static/media/TimesheetBackgroung.45b65395b0c1b529e5dd.png"),m=function(){(0,l.Z)();return(0,a.jsx)(t.Z,{sx:{backgroundImage:"url(".concat(r(36089),")"),position:"absolute",zIndex:-1,bottom:0},children:(0,a.jsx)("img",{src:x,alt:"Undefined",width:"60px",height:"70px"})})},p=function(e){var n=e.children;return(0,a.jsxs)(t.Z,{sx:{backgroundImage:"url(".concat(r(36089),")"),minHeight:"100vh"},children:[(0,a.jsx)(m,{}),(0,a.jsxs)(s.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,a.jsx)(s.ZP,{item:!0,xs:12,children:(0,a.jsx)(s.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 210px)",sm:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,a.jsx)(s.ZP,{item:!0,children:(0,a.jsx)(h,{children:n})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(s.ZP,{item:!0,xs:6,sx:{textAlign:"center"},children:(0,a.jsx)(i.Z,{variant:"subtitle2",color:"secondary",target:"_blank",underline:"hover",children:"\xa92023 Undefined ALL RIGHTS RESERVED."})})})]})]})}},2419:function(e,n,r){r.d(n,{V:function(){return t},X:function(){return s}});var t=function(e){return e<2?{label:"Poor",color:"error.main"}:e<3?{label:"Weak",color:"warning.main"}:e<4?{label:"Normal",color:"warning.dark"}:e<5?{label:"Good",color:"success.main"}:e<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"}},s=function(e){var n=0;return e.length>5&&(n+=1),e.length>7&&(n+=1),function(e){return new RegExp(/[0-9]/).test(e)}(e)&&(n+=1),function(e){return new RegExp(/[!#@$%^&*)(+=._-]/).test(e)}(e)&&(n+=1),function(e){return new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e)}(e)&&(n+=1),n}},44874:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(1413),s=r(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},a=r(20262),o=function(e,n){return s.createElement(a.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:n,icon:i}))};o.displayName="EyeInvisibleOutlined";var c=s.forwardRef(o)},31741:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(1413),s=r(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},a=r(20262),o=function(e,n){return s.createElement(a.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:n,icon:i}))};o.displayName="EyeOutlined";var c=s.forwardRef(o)},58711:function(e,n,r){var t=r(64836);n.Z=void 0;var s=t(r(45045)),i=r(46417),a=(0,s.default)((0,i.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");n.Z=a},41727:function(e,n,r){r.d(n,{Z:function(){return P}});var t=r(4942),s=r(63366),i=r(87462),a=r(47313),o=r(2197),c=r(21921),l=r(91615),d=r(61113),u=r(91397),h=r(99008),x=r(17592),m=r(77430),p=r(32298);function f(e){return(0,p.Z)("MuiInputAdornment",e)}var Z,v=(0,m.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),w=r(77342),g=r(46417),b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=(0,x.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n["position".concat((0,l.Z)(r.position))],!0===r.disablePointerEvents&&n.disablePointerEvents,n[r.variant]]}})((function(e){var n=e.theme,r=e.ownerState;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===r.variant&&(0,t.Z)({},"&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")"),{marginTop:16}),"start"===r.position&&{marginRight:8},"end"===r.position&&{marginLeft:8},!0===r.disablePointerEvents&&{pointerEvents:"none"})})),P=a.forwardRef((function(e,n){var r=(0,w.Z)({props:e,name:"MuiInputAdornment"}),t=r.children,x=r.className,m=r.component,p=void 0===m?"div":m,v=r.disablePointerEvents,P=void 0!==v&&v,y=r.disableTypography,k=void 0!==y&&y,C=r.position,E=r.variant,S=(0,s.Z)(r,b),z=(0,h.Z)()||{},R=E;E&&z.variant,z&&!R&&(R=z.variant);var F=(0,i.Z)({},r,{hiddenLabel:z.hiddenLabel,size:z.size,disablePointerEvents:P,position:C,variant:R}),A=function(e){var n=e.classes,r=e.disablePointerEvents,t=e.hiddenLabel,s=e.position,i=e.size,a=e.variant,o={root:["root",r&&"disablePointerEvents",s&&"position".concat((0,l.Z)(s)),a,t&&"hiddenLabel",i&&"size".concat((0,l.Z)(i))]};return(0,c.Z)(o,f,n)}(F);return(0,g.jsx)(u.Z.Provider,{value:null,children:(0,g.jsx)(j,(0,i.Z)({as:p,ownerState:F,className:(0,o.Z)(A.root,x),ref:n},S,{children:"string"!==typeof t||k?(0,g.jsxs)(a.Fragment,{children:["start"===C?Z||(Z=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,t]}):(0,g.jsx)(d.Z,{color:"text.secondary",children:t})}))})}))},36089:function(e,n,r){e.exports=r.p+"static/media/Background.31fc85c68fa2ffd09f2c.png"}}]);